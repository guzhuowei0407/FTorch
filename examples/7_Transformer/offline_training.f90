Last login: Mon Dec 23 22:29:33 on ttys001
zhuoweigu@LadyLadyMs-MBP ~ % ssh guzhuowei0407@baseline.ccs.ornl.gov
****************************************************************************
                          NOTICE TO USERS

This is a Federal computer system and is the property of the United States
Government.  It is for authorized use only.  Users (authorized or
unauthorized) have no explicit or implicit expectation of privacy.

Any or all uses of this system and all files on this system may be
intercepted, monitored, recorded, copied, audited, inspected, and disclosed
to authorized site, Department of Energy, and law enforcement personnel, as
well as authorized officials of other agencies, both domestic and foreign.
By using this system, the user consents to such interception, monitoring,
recording, copying, auditing, inspection, and disclosure at the discretion
of authorized site or Department of Energy personnel.

Unauthorized or improper use of this system may result in administrative
disciplinary action and civil and criminal penalties.  By continuing to use
this system you indicate your awareness of and consent to these terms and
conditions of use.  LOG OFF IMMEDIATELY if you do not agree to the
conditions stated in this warning.
****************************************************************************
(guzhuowei0407@baseline.ccs.ornl.gov) Password: 
Last login: Mon Dec 23 23:33:06 2024 from ltm-e204-80.ccs.ornl.gov
[guzhuowei0407@baseline-login2 ~]$ ls
[guzhuowei0407@baseline-login2 ~]$ cd ..
[guzhuowei0407@baseline-login2 home]$ ls
1dh  94w          dpelfrey           hfd           l8h              odb              sny           wangd
2ff  99i          dry                hnw           ldapshow.sh      omearata         steffensch    wei611
33m  9b8          dyd                hof           lir              orh              stf020_auser  x2r
3fi  9cq          dzm                hrr           loganwgillum     p40              stf022_auser  xba
3gy  9kq          e3o                hzu           lpi              paladino         svx           xiaoman
3hg  9ky          edwinwashington96  in3           ltb              patjneri         sward         xjv
3t6  9w6          eez                ipt           lvj              pi4              t4p           xnc
40w  9xk          efposadac          isp           lwq              piu              thomaswang    xpn
41z  9zn          emy                iwj           m9b              pk7              tlc           xyk
43f  a21          eo8                j2c           maccarthy        psc              tok           y9s
4tq  alamic2      eo8or              j8g           makefromldap.sh  pvn              ucf           ysi
5hn  alp          epd                jbk           makeone.sh       q7z              ud4           yth
5l5  ay5          evalenzu           jdjakeman     mbeckage         q8s              uec           yunhef
5vz  b0u          evz                jf5           mfx              r51              ulj           ywo
6ru  b2s          f9y                jhx           mjfrost          r62              uu2           z6z
74h  baej1        far                ji8           mosesadebayo001  r9a              uw8           za1
76a  bails        ff2                joa           myt              ruvve            uwr           zachrfox
7pi  bishwodahal  fmulder94          jtkrogel      nc9              rym              ux4           zbs
7s2  bpw          fwt                jv2           nhs              ryu              v8b           zdr
7vh  breedencb    g5q                jwdvill_ornl  nk8              samgruber        velliquettet  zk6
7wi  bxw          gaunj              jyw           nor              sauesw           vgv           zpl
8i9  chrisking    gkg                k38           nspanedda        sauetest         villanovajw
8in  cql0536      guzhuowei0407      kpf           ntj              setony24         vm5
8n8  cuw          gwb                ksu           ntw              sgx              vsv
8w6  cwl          h7n                l2g           nzm              show_missing.sh  vu7
93t  d54          hansonha           l3l           oay              slurm            w7j
[guzhuowei0407@baseline-login2 home]$ cd ..
[guzhuowei0407@baseline-login2 ccsopen]$ ls
home  proj  sw  sys
[guzhuowei0407@baseline-login2 ccsopen]$ cd ..
[guzhuowei0407@baseline-login2 /]$ ls
autofs                                                                   cvmfs                 lib    proc  tmp
baseline                                                                 dev                   lib64  root  usr
baseline_login:baseline_login.rhel8_10.20240921_20241113-000000-2c3cd23  etc                   media  run   var
bin                                                                      first-puppet-run.log  misc   sbin
boot                                                                     gpfs                  mnt    srv
ccs                                                                      home                  net    sw
ccsopen                                                                  image-build.log       opt    sys
[guzhuowei0407@baseline-login2 /]$ cd ..
[guzhuowei0407@baseline-login2 /]$ ls
autofs                                                                   cvmfs                 lib    proc  tmp
baseline                                                                 dev                   lib64  root  usr
baseline_login:baseline_login.rhel8_10.20240921_20241113-000000-2c3cd23  etc                   media  run   var
bin                                                                      first-puppet-run.log  misc   sbin
boot                                                                     gpfs                  mnt    srv
ccs                                                                      home                  net    sw
ccsopen                                                                  image-build.log       opt    sys
[guzhuowei0407@baseline-login2 /]$ cd gpfs/
[guzhuowei0407@baseline-login2 gpfs]$ ls
automountdir  wolf2
[guzhuowei0407@baseline-login2 gpfs]$ cd wolf2/
[guzhuowei0407@baseline-login2 wolf2]$ ls
arm  cades  darshan  olcf  systems  world-shared
[guzhuowei0407@baseline-login2 wolf2]$ ls
arm  cades  darshan  olcf  systems  world-shared
[guzhuowei0407@baseline-login2 wolf2]$ ls
arm  cades  darshan  olcf  systems  world-shared
[guzhuowei0407@baseline-login2 wolf2]$ cd ..
[guzhuowei0407@baseline-login2 gpfs]$ ls
automountdir  wolf2
[guzhuowei0407@baseline-login2 gpfs]$ cd wolf2/
[guzhuowei0407@baseline-login2 wolf2]$ ls
arm  cades  darshan  olcf  systems  world-shared
[guzhuowei0407@baseline-login2 wolf2]$ ls
arm  cades  darshan  olcf  systems  world-shared
[guzhuowei0407@baseline-login2 wolf2]$ cd cades/
[guzhuowei0407@baseline-login2 cades]$ ls
bie124  bip261  cli185  csc635  fus169  gen193  mat269  med128  nph166  phy191
[guzhuowei0407@baseline-login2 cades]$ cd cli185/
[guzhuowei0407@baseline-login2 cli185]$ ls
proj-shared  scratch  world-shared
[guzhuowei0407@baseline-login2 cli185]$ cd scratch/
[guzhuowei0407@baseline-login2 scratch]$ ls
3hg  8n8    bxw      emy            hof  ji8       mfx              p40       rym  velliquettet  xyk     zdr
5vz  alp    cql0536  f9y            ipt  l2g       mosesadebayo001  patjneri  ud4  wangd         y9s     zk6
6ru  b0u    dry      guzhuowei0407  isp  l8h       myt              pvn       uec  wei611        yunhef
7s2  bails  dyd      hnw            jbk  mbeckage  omearata         r62       ulj  xiaoman       ywo
[guzhuowei0407@baseline-login2 scratch]$ cd guzhuowei0407/
[guzhuowei0407@baseline-login2 guzhuowei0407]$ ls
Fortran-Pytorch  kmELM  NA_cases_data  software  uELM  uELM_orig  uELM_result
[guzhuowei0407@baseline-login2 guzhuowei0407]$ cd Fortran-Pytorch/
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch  training_data_landfrac_1.pkl
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim offline_training.py
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch  offline_training.py  training_data_landfrac_1.pkl
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ pwd
/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim offline_training.py 
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ module list

Currently Loaded Modules:
  1) gcc/12.2.0   2) openmpi/4.0.4   3) DefApps

 

[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ module avail python

----------------------------------------- /sw/baseline/modulefiles/core -----------------------------------------
   python/3.11-anaconda3

If the avail list is too long consider trying:

"module --default avail" or "ml -d av" to just list the default modules.
"module overview" or "ml ov" to display the number of modules for each name.

Use "module spider" to find all possible modules and extensions.
Use "module keyword key1 key2 ..." to search for all possible modules matching any of the "keys".


[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ module load python/3.11-anaconda3 
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch  offline_training.py  training_data_landfrac_1.pkl
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ python offline_training.py 
An error occurred while reading the file: No module named 'pandas'
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim offline_training.py 
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch  offline_training.py  training_data_landfrac_1.pkl
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ python -m venv offline_training
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch  offline_training  offline_training.py  training_data_landfrac_1.pkl
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ source offline_training/bin/activate
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch  offline_training  offline_training.py  training_data_landfrac_1.pkl
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch  offline_training  offline_training.py  training_data_landfrac_1.pkl
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ python offline_training.py 
An error occurred while reading the file: No module named 'pandas'
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ pip install pandas
Collecting pandas
  Obtaining dependency information for pandas from https://files.pythonhosted.org/packages/cd/5f/4dba1d39bb9c38d574a9a22548c540177f78ea47b32f99c0ff2ec499fac5/pandas-2.2.3-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata
  Downloading pandas-2.2.3-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (89 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 89.9/89.9 kB 2.8 MB/s eta 0:00:00
Collecting numpy>=1.23.2 (from pandas)
  Obtaining dependency information for numpy>=1.23.2 from https://files.pythonhosted.org/packages/f2/d4/f999444e86986f3533e7151c272bd8186c55dda554284def18557e013a2a/numpy-2.2.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata
  Downloading numpy-2.2.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (62 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.0/62.0 kB 9.4 MB/s eta 0:00:00
Collecting python-dateutil>=2.8.2 (from pandas)
  Obtaining dependency information for python-dateutil>=2.8.2 from https://files.pythonhosted.org/packages/ec/57/56b9bcc3c9c6a792fcbaf139543cee77261f3651ca9da0c93f5c1221264b/python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata
  Using cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
Collecting pytz>=2020.1 (from pandas)
  Obtaining dependency information for pytz>=2020.1 from https://files.pythonhosted.org/packages/11/c3/005fcca25ce078d2cc29fd559379817424e94885510568bc1bc53d7d5846/pytz-2024.2-py2.py3-none-any.whl.metadata
  Downloading pytz-2024.2-py2.py3-none-any.whl.metadata (22 kB)
Collecting tzdata>=2022.7 (from pandas)
  Obtaining dependency information for tzdata>=2022.7 from https://files.pythonhosted.org/packages/a6/ab/7e5f53c3b9d14972843a647d8d7a853969a58aecc7559cb3267302c94774/tzdata-2024.2-py2.py3-none-any.whl.metadata
  Downloading tzdata-2024.2-py2.py3-none-any.whl.metadata (1.4 kB)
Collecting six>=1.5 (from python-dateutil>=2.8.2->pandas)
  Obtaining dependency information for six>=1.5 from https://files.pythonhosted.org/packages/b7/ce/149a00dd41f10bc29e5921b496af8b574d8413afcd5e30dfa0ed46c2cc5e/six-1.17.0-py2.py3-none-any.whl.metadata
  Using cached six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
Downloading pandas-2.2.3-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (13.1 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 13.1/13.1 MB 42.9 MB/s eta 0:00:00
Downloading numpy-2.2.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (16.4 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 16.4/16.4 MB 41.0 MB/s eta 0:00:00
Using cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
Downloading pytz-2024.2-py2.py3-none-any.whl (508 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 508.0/508.0 kB 40.8 MB/s eta 0:00:00
Downloading tzdata-2024.2-py2.py3-none-any.whl (346 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 346.6/346.6 kB 34.9 MB/s eta 0:00:00
Using cached six-1.17.0-py2.py3-none-any.whl (11 kB)
Installing collected packages: pytz, tzdata, six, numpy, python-dateutil, pandas
Successfully installed numpy-2.2.1 pandas-2.2.3 python-dateutil-2.9.0.post0 pytz-2024.2 six-1.17.0 tzdata-2024.2

[notice] A new release of pip is available: 23.2.1 -> 24.3.1
[notice] To update, run: pip install --upgrade pip
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ python offline_training.py 
/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/offline_training.py:10: DeprecationWarning: numpy.core.numeric is deprecated and has been renamed to numpy._core.numeric. The numpy._core namespace contains private NumPy internals and its use is discouraged, as NumPy internals can change without warning in any release. In practice, most real-world usage of numpy.core is to access functionality in the public NumPy API. If that is the case, use the public NumPy API. If not, you are using NumPy internals. If you would still like to access an internal attribute, use numpy._core.numeric._frombuffer.
  data = pickle.load(file)
Killed
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim offline_training.py 
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ python offline_training.py 
/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/offline_training.py:10: DeprecationWarning: numpy.core.numeric is deprecated and has been renamed to numpy._core.numeric. The numpy._core namespace contains private NumPy internals and its use is discouraged, as NumPy internals can change without warning in any release. In practice, most real-world usage of numpy.core is to access functionality in the public NumPy API. If that is the case, use the public NumPy API. If not, you are using NumPy internals. If you would still like to access an internal attribute, use numpy._core.numeric._frombuffer.
  data = pickle.load(file)
Killed
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ free -h
              total        used        free      shared  buff/cache   available
Mem:          251Gi        20Gi       207Gi       6.1Gi        23Gi       220Gi
Swap:            0B          0B          0B
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch  offline_training  offline_training.py  training_data_landfrac_1.pkl
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ pip install pickle
ERROR: Could not find a version that satisfies the requirement pickle (from versions: none)
ERROR: No matching distribution found for pickle

[notice] A new release of pip is available: 23.2.1 -> 24.3.1
[notice] To update, run: pip install --upgrade pip
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ pip install --upgrade pip
Requirement already satisfied: pip in ./offline_training/lib/python3.11/site-packages (23.2.1)
Collecting pip
  Obtaining dependency information for pip from https://files.pythonhosted.org/packages/ef/7d/500c9ad20238fcfcb4cb9243eede163594d7020ce87bd9610c9e02771876/pip-24.3.1-py3-none-any.whl.metadata
  Downloading pip-24.3.1-py3-none-any.whl.metadata (3.7 kB)
Downloading pip-24.3.1-py3-none-any.whl (1.8 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.8/1.8 MB 16.0 MB/s eta 0:00:00
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 23.2.1
    Uninstalling pip-23.2.1:
      Successfully uninstalled pip-23.2.1
Successfully installed pip-24.3.1
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ pip install pickle
ERROR: Could not find a version that satisfies the requirement pickle (from versions: none)
ERROR: No matching distribution found for pickle
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim offline_training.py 
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ python offline_training.py 
Traceback (most recent call last):
  File "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/offline_training.py", line 1, in <module>
    from joblib import load
ModuleNotFoundError: No module named 'joblib'
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ pip install joblib
Collecting joblib
  Downloading joblib-1.4.2-py3-none-any.whl.metadata (5.4 kB)
Downloading joblib-1.4.2-py3-none-any.whl (301 kB)
Installing collected packages: joblib
Successfully installed joblib-1.4.2
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ python offline_training.py 
Killed
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ulimit -n 102400
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ulimit -s 819200
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ulimit -c unlimited
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ python offline_training.py 
Killed
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ free -h
              total        used        free      shared  buff/cache   available
Mem:          251Gi        20Gi       206Gi       6.1Gi        23Gi       220Gi
Swap:            0B          0B          0B
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim offline_training.py 
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ python offline_training.py 
/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/offline_training.py:10: DeprecationWarning: numpy.core.numeric is deprecated and has been renamed to numpy._core.numeric. The numpy._core namespace contains private NumPy internals and its use is discouraged, as NumPy internals can change without warning in any release. In practice, most real-world usage of numpy.core is to access functionality in the public NumPy API. If that is the case, use the public NumPy API. If not, you are using NumPy internals. If you would still like to access an internal attribute, use numpy._core.numeric._frombuffer.
  data = unpickler.load()
Killed
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ free -h
              total        used        free      shared  buff/cache   available
Mem:          251Gi        20Gi       207Gi       6.0Gi        23Gi       220Gi
Swap:            0B          0B          0B
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch  offline_training  offline_training.py  training_data_landfrac_1.pkl
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim offline_training.py 
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ python offline_training.py 
/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/offline_training.py:9: DeprecationWarning: numpy.core.numeric is deprecated and has been renamed to numpy._core.numeric. The numpy._core namespace contains private NumPy internals and its use is discouraged, as NumPy internals can change without warning in any release. In practice, most real-world usage of numpy.core is to access functionality in the public NumPy API. If that is the case, use the public NumPy API. If not, you are using NumPy internals. If you would still like to access an internal attribute, use numpy._core.numeric._frombuffer.
  data = pickle.load(file)
Killed
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch  offline_training  offline_training.py  training_data_landfrac_1.pkl
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ free -h
              total        used        free      shared  buff/cache   available
Mem:          251Gi        20Gi       207Gi       6.0Gi        23Gi       220Gi
Swap:            0B          0B          0B
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ lshw -class memory
WARNING: you should run this program as super-user.
  *-memory                  
       description: System memory
       physical id: 0
       size: 256GiB
WARNING: output may be incomplete or inaccurate, you should run this program as super-user.
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ulimit -a
core file size          (blocks, -c) unlimited
data seg size           (kbytes, -d) unlimited
scheduling priority             (-e) 0
file size               (blocks, -f) unlimited
pending signals                 (-i) 1029751
max locked memory       (kbytes, -l) unlimited
max memory size         (kbytes, -m) unlimited
open files                      (-n) 102400
pipe size            (512 bytes, -p) 8
POSIX message queues     (bytes, -q) 819200
real-time priority              (-r) 0
stack size              (kbytes, -s) 819200
cpu time               (seconds, -t) unlimited
max user processes              (-u) 1029751
virtual memory          (kbytes, -v) unlimited
file locks                      (-x) unlimited
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ dmesg | grep -i 'killed process'
[2440211.617179] Memory cgroup out of memory: Killed process 586522 (singularity) total-vm:5145796kB, anon-rss:37768kB, file-rss:31352kB, shmem-rss:128kB, UID:2003933 pgtables:824kB oom_score_adj:0
[2441840.336536] Memory cgroup out of memory: Killed process 593359 (singularity) total-vm:2479736kB, anon-rss:27792kB, file-rss:29296kB, shmem-rss:128kB, UID:2003933 pgtables:448kB oom_score_adj:0
[2441840.764932] Memory cgroup out of memory: Killed process 593383 (mksquashfs) total-vm:9567116kB, anon-rss:28308kB, file-rss:2180kB, shmem-rss:0kB, UID:2003933 pgtables:1284kB oom_score_adj:0
[2441959.669324] Memory cgroup out of memory: Killed process 593862 (singularity) total-vm:17593448kB, anon-rss:39276kB, file-rss:28796kB, shmem-rss:0kB, UID:2003933 pgtables:480kB oom_score_adj:0
[2441960.081231] Memory cgroup out of memory: Killed process 593882 (mksquashfs) total-vm:49205740kB, anon-rss:35880kB, file-rss:2212kB, shmem-rss:0kB, UID:2003933 pgtables:748kB oom_score_adj:0
[2441976.093432] Memory cgroup out of memory: Killed process 594005 (singularity) total-vm:14938716kB, anon-rss:39804kB, file-rss:26764kB, shmem-rss:0kB, UID:2003933 pgtables:440kB oom_score_adj:0
[4084607.279098] Memory cgroup out of memory: Killed process 3644833 (python) total-vm:19647336kB, anon-rss:16733248kB, file-rss:11864kB, shmem-rss:0kB, UID:2003933 pgtables:33192kB oom_score_adj:0
[4084820.337417] Memory cgroup out of memory: Killed process 3645628 (python) total-vm:19651068kB, anon-rss:16733424kB, file-rss:12028kB, shmem-rss:0kB, UID:2003933 pgtables:33204kB oom_score_adj:0
[4086258.247743] Memory cgroup out of memory: Killed process 3650729 (python) total-vm:19651780kB, anon-rss:16733328kB, file-rss:12804kB, shmem-rss:0kB, UID:2003933 pgtables:33212kB oom_score_adj:0
[4086417.217142] Memory cgroup out of memory: Killed process 3651400 (python) total-vm:70744708kB, anon-rss:16733080kB, file-rss:12976kB, shmem-rss:0kB, UID:2003933 pgtables:33404kB oom_score_adj:0
[4086693.196150] Memory cgroup out of memory: Killed process 3652377 (python) total-vm:70743664kB, anon-rss:16733152kB, file-rss:12084kB, shmem-rss:0kB, UID:2003933 pgtables:33400kB oom_score_adj:0
[4088319.480779] Memory cgroup out of memory: Killed process 3657812 (python) total-vm:70743984kB, anon-rss:16733208kB, file-rss:12084kB, shmem-rss:0kB, UID:2003933 pgtables:33400kB oom_score_adj:0
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ sinfo -o "%N %C %m %f"
NODELIST CPUS(A/I/O/T) MEMORY AVAIL_FEATURES
baseline[1-180],baseline-gpu1 4224/18800/128/23152 256000+ (null)
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim offline_training.py 
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ srun --mem=200G python offline_training.py 
srun: error: 3 ERRORS FOUND: 
srun: error:  
srun: error: -----
srun: error: You must specify an account with the -A flag. Valid accounts are: 
srun: error:     CLI185
srun: error: -----
srun: error:  
srun: error: -----
srun: error: You must specify a partition. 
srun: error: -----
srun: error:  
srun: error: -----
srun: error: All jobs must specify a node count with --nodes or -N
srun: error: -----
srun: error:  
srun: error:  
srun: error: Job not submitted, please update and resubmit batch job.
srun: error: Unable to allocate resources: Unspecified error
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ sinfo
PARTITION         AVAIL  TIMELIMIT  NODES  STATE NODELIST
batch                up 5-00:00:00      1  down* baseline11
batch                up 5-00:00:00     14  alloc baseline[3-8,12-19]
batch                up 5-00:00:00    123   idle baseline[9-10,20-140]
batch_high_memory    up 5-00:00:00      1  down* baseline11
batch_high_memory    up 5-00:00:00     14  alloc baseline[3-8,12-19]
batch_high_memory    up 5-00:00:00     55   idle baseline[9-10,20-72]
batch_low_memory     up 5-00:00:00     68   idle baseline[73-140]
batch_ccsi           up 5-00:00:00     20   idle baseline[141-160]
batch_cnms           up 5-00:00:00     19  alloc baseline[161-179]
batch_cnms           up 5-00:00:00      1   idle baseline180
test                 up 5-00:00:00      2   idle baseline[1-2]
gpu_acmhs            up 5-00:00:00      1   idle baseline-gpu1
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ srun -A CLI185 --partition=batch_high_memory --nodes=1 --mem=200G python offline_training.py
srun: error: 1 ERROR FOUND: 
srun: error:  
srun: error: -----
srun: error: You must specify a walltime with -t
srun: error: -----
srun: error:  
srun: error:  
srun: error: Job not submitted, please update and resubmit batch job.
srun: error: Unable to allocate resources: Unspecified error
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ srun -A CLI185 --partition=batch_high_memory --nodes=1 --mem=200G -t 1:00:00 python offline_training.py
/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/offline_training.py:9: DeprecationWarning: numpy.core.numeric is deprecated and has been renamed to numpy._core.numeric. The numpy._core namespace contains private NumPy internals and its use is discouraged, as NumPy internals can change without warning in any release. In practice, most real-world usage of numpy.core is to access functionality in the public NumPy API. If that is the case, use the public NumPy API. If not, you are using NumPy internals. If you would still like to access an internal attribute, use numpy._core.numeric._frombuffer.
  data = pickle.load(file)
Converted /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/training_data_landfrac_1.pkl to /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/training_data_landfrac_1.txt
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch  offline_training  offline_training.py  training_data_landfrac_1.pkl  training_data_landfrac_1.txt
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim training_data_landfrac_1.txt 
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim training_data_landfrac_1.txt 
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim save_variables.py
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ srun -A CLI185 --partition=batch_high_memory --nodes=1 --mem=200G -t 1:00:00 python save_variables.py 
/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/save_variables.py:11: DeprecationWarning: numpy.core.numeric is deprecated and has been renamed to numpy._core.numeric. The numpy._core namespace contains private NumPy internals and its use is discouraged, as NumPy internals can change without warning in any release. In practice, most real-world usage of numpy.core is to access functionality in the public NumPy API. If that is the case, use the public NumPy API. If not, you are using NumPy internals. If you would still like to access an internal attribute, use numpy._core.numeric._frombuffer.
  data = pickle.load(file)
Variable names and dimensions have been saved to variables_and_shapes.txt.
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch            offline_training.py  training_data_landfrac_1.pkl  variables_and_shapes.txt
offline_training  save_variables.py    training_data_landfrac_1.txt
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim variables_and_shapes.txt 
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim save_variables.py 
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch            offline_training.py  training_data_landfrac_1.pkl  variables_and_shapes.txt
offline_training  save_variables.py    training_data_landfrac_1.txt
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ rm -rf variables_and_shapes.txt 
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch            offline_training.py  training_data_landfrac_1.pkl
offline_training  save_variables.py    training_data_landfrac_1.txt
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ srun -A CLI185 --partition=batch_high_memory --nodes=1 --mem=200G -t 1:00:00 python save_variables.py 
/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/save_variables.py:12: DeprecationWarning: numpy.core.numeric is deprecated and has been renamed to numpy._core.numeric. The numpy._core namespace contains private NumPy internals and its use is discouraged, as NumPy internals can change without warning in any release. In practice, most real-world usage of numpy.core is to access functionality in the public NumPy API. If that is the case, use the public NumPy API. If not, you are using NumPy internals. If you would still like to access an internal attribute, use numpy._core.numeric._frombuffer.
  data = pickle.load(file)
Variable names and dimensions have been saved to variables_and_shapes.txt.
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch            offline_training.py  training_data_landfrac_1.pkl  variables_and_shapes.txt
offline_training  save_variables.py    training_data_landfrac_1.txt
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim variables_and_shapes.txt 
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim test_LSTM_model.py
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ srun -A CLI185 --partition=batch_high_memory --nodes=1 --mem=200G -t 1:00:00 python test_LSTM_model.py 
srun: job 81317 queued and waiting for resources
srun: job 81317 has been allocated resources
Traceback (most recent call last):
  File "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/test_LSTM_model.py", line 1, in <module>
    import torch
ModuleNotFoundError: No module named 'torch'
srun: error: baseline9: task 0: Exited with exit code 1
srun: Terminating StepId=81317.0
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ pip install torch
Collecting torch
  Downloading torch-2.5.1-cp311-cp311-manylinux1_x86_64.whl.metadata (28 kB)
Collecting filelock (from torch)
  Downloading filelock-3.16.1-py3-none-any.whl.metadata (2.9 kB)
Collecting typing-extensions>=4.8.0 (from torch)
  Downloading typing_extensions-4.12.2-py3-none-any.whl.metadata (3.0 kB)
Collecting networkx (from torch)
  Downloading networkx-3.4.2-py3-none-any.whl.metadata (6.3 kB)
Collecting jinja2 (from torch)
  Downloading jinja2-3.1.5-py3-none-any.whl.metadata (2.6 kB)
Collecting fsspec (from torch)
  Downloading fsspec-2024.12.0-py3-none-any.whl.metadata (11 kB)
Collecting nvidia-cuda-nvrtc-cu12==12.4.127 (from torch)
  Downloading nvidia_cuda_nvrtc_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl.metadata (1.5 kB)
Collecting nvidia-cuda-runtime-cu12==12.4.127 (from torch)
  Downloading nvidia_cuda_runtime_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl.metadata (1.5 kB)
Collecting nvidia-cuda-cupti-cu12==12.4.127 (from torch)
  Downloading nvidia_cuda_cupti_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl.metadata (1.6 kB)
Collecting nvidia-cudnn-cu12==9.1.0.70 (from torch)
  Downloading nvidia_cudnn_cu12-9.1.0.70-py3-none-manylinux2014_x86_64.whl.metadata (1.6 kB)
Collecting nvidia-cublas-cu12==12.4.5.8 (from torch)
  Downloading nvidia_cublas_cu12-12.4.5.8-py3-none-manylinux2014_x86_64.whl.metadata (1.5 kB)
Collecting nvidia-cufft-cu12==11.2.1.3 (from torch)
  Downloading nvidia_cufft_cu12-11.2.1.3-py3-none-manylinux2014_x86_64.whl.metadata (1.5 kB)
Collecting nvidia-curand-cu12==10.3.5.147 (from torch)
  Downloading nvidia_curand_cu12-10.3.5.147-py3-none-manylinux2014_x86_64.whl.metadata (1.5 kB)
Collecting nvidia-cusolver-cu12==11.6.1.9 (from torch)
  Downloading nvidia_cusolver_cu12-11.6.1.9-py3-none-manylinux2014_x86_64.whl.metadata (1.6 kB)
Collecting nvidia-cusparse-cu12==12.3.1.170 (from torch)
  Downloading nvidia_cusparse_cu12-12.3.1.170-py3-none-manylinux2014_x86_64.whl.metadata (1.6 kB)
Collecting nvidia-nccl-cu12==2.21.5 (from torch)
  Downloading nvidia_nccl_cu12-2.21.5-py3-none-manylinux2014_x86_64.whl.metadata (1.8 kB)
Collecting nvidia-nvtx-cu12==12.4.127 (from torch)
  Downloading nvidia_nvtx_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl.metadata (1.7 kB)
Collecting nvidia-nvjitlink-cu12==12.4.127 (from torch)
  Downloading nvidia_nvjitlink_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl.metadata (1.5 kB)
Collecting triton==3.1.0 (from torch)
  Downloading triton-3.1.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (1.3 kB)
Collecting sympy==1.13.1 (from torch)
  Downloading sympy-1.13.1-py3-none-any.whl.metadata (12 kB)
Collecting mpmath<1.4,>=1.1.0 (from sympy==1.13.1->torch)
  Downloading mpmath-1.3.0-py3-none-any.whl.metadata (8.6 kB)
Collecting MarkupSafe>=2.0 (from jinja2->torch)
  Downloading MarkupSafe-3.0.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.0 kB)
Downloading torch-2.5.1-cp311-cp311-manylinux1_x86_64.whl (906.5 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 906.5/906.5 MB 23.3 MB/s eta 0:00:00
Downloading nvidia_cublas_cu12-12.4.5.8-py3-none-manylinux2014_x86_64.whl (363.4 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 363.4/363.4 MB 46.3 MB/s eta 0:00:00
Downloading nvidia_cuda_cupti_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (13.8 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 13.8/13.8 MB 50.6 MB/s eta 0:00:00
Downloading nvidia_cuda_nvrtc_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (24.6 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 24.6/24.6 MB 48.2 MB/s eta 0:00:00
Downloading nvidia_cuda_runtime_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (883 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 883.7/883.7 kB 32.3 MB/s eta 0:00:00
Downloading nvidia_cudnn_cu12-9.1.0.70-py3-none-manylinux2014_x86_64.whl (664.8 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 664.8/664.8 MB 28.1 MB/s eta 0:00:00
Downloading nvidia_cufft_cu12-11.2.1.3-py3-none-manylinux2014_x86_64.whl (211.5 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 211.5/211.5 MB 47.3 MB/s eta 0:00:00
Downloading nvidia_curand_cu12-10.3.5.147-py3-none-manylinux2014_x86_64.whl (56.3 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 56.3/56.3 MB 46.3 MB/s eta 0:00:00
Downloading nvidia_cusolver_cu12-11.6.1.9-py3-none-manylinux2014_x86_64.whl (127.9 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 127.9/127.9 MB 49.2 MB/s eta 0:00:00
Downloading nvidia_cusparse_cu12-12.3.1.170-py3-none-manylinux2014_x86_64.whl (207.5 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 207.5/207.5 MB 50.0 MB/s eta 0:00:00
Downloading nvidia_nccl_cu12-2.21.5-py3-none-manylinux2014_x86_64.whl (188.7 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 188.7/188.7 MB 47.1 MB/s eta 0:00:00
Downloading nvidia_nvjitlink_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (21.1 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 21.1/21.1 MB 51.5 MB/s eta 0:00:00
Downloading nvidia_nvtx_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (99 kB)
Downloading sympy-1.13.1-py3-none-any.whl (6.2 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.2/6.2 MB 49.3 MB/s eta 0:00:00
Downloading triton-3.1.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (209.5 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 209.5/209.5 MB 53.9 MB/s eta 0:00:00
Downloading typing_extensions-4.12.2-py3-none-any.whl (37 kB)
Downloading filelock-3.16.1-py3-none-any.whl (16 kB)
Downloading fsspec-2024.12.0-py3-none-any.whl (183 kB)
Downloading jinja2-3.1.5-py3-none-any.whl (134 kB)
Downloading networkx-3.4.2-py3-none-any.whl (1.7 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.7/1.7 MB 44.3 MB/s eta 0:00:00
Downloading MarkupSafe-3.0.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (23 kB)
Downloading mpmath-1.3.0-py3-none-any.whl (536 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 536.2/536.2 kB 19.9 MB/s eta 0:00:00
Installing collected packages: mpmath, typing-extensions, sympy, nvidia-nvtx-cu12, nvidia-nvjitlink-cu12, nvidia-nccl-cu12, nvidia-curand-cu12, nvidia-cufft-cu12, nvidia-cuda-runtime-cu12, nvidia-cuda-nvrtc-cu12, nvidia-cuda-cupti-cu12, nvidia-cublas-cu12, networkx, MarkupSafe, fsspec, filelock, triton, nvidia-cusparse-cu12, nvidia-cudnn-cu12, jinja2, nvidia-cusolver-cu12, torch
Successfully installed MarkupSafe-3.0.2 filelock-3.16.1 fsspec-2024.12.0 jinja2-3.1.5 mpmath-1.3.0 networkx-3.4.2 nvidia-cublas-cu12-12.4.5.8 nvidia-cuda-cupti-cu12-12.4.127 nvidia-cuda-nvrtc-cu12-12.4.127 nvidia-cuda-runtime-cu12-12.4.127 nvidia-cudnn-cu12-9.1.0.70 nvidia-cufft-cu12-11.2.1.3 nvidia-curand-cu12-10.3.5.147 nvidia-cusolver-cu12-11.6.1.9 nvidia-cusparse-cu12-12.3.1.170 nvidia-nccl-cu12-2.21.5 nvidia-nvjitlink-cu12-12.4.127 nvidia-nvtx-cu12-12.4.127 sympy-1.13.1 torch-2.5.1 triton-3.1.0 typing-extensions-4.12.2
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ srun -A CLI185 --partition=batch_high_memory --nodes=1 --mem=200G -t 1:00:00 python test_LSTM_model.py 
srun: job 81318 queued and waiting for resources
srun: job 81318 has been allocated resources
Traceback (most recent call last):
  File "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/test_LSTM_model.py", line 12, in <module>
    model = torch.jit.load(model_file)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/offline_training/lib/python3.11/site-packages/torch/jit/_serialization.py", line 153, in load
    raise ValueError(f"The provided filename {f} does not exist")  # type: ignore[str-bytes-safe]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: The provided filename LSTM_model.pt does not exist
srun: error: baseline9: task 0: Exited with exit code 1
srun: Terminating StepId=81318.0
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch            offline_training.py  test_LSTM_model.py            training_data_landfrac_1.txt
offline_training  save_variables.py    training_data_landfrac_1.pkl  variables_and_shapes.txt
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch         offline_training     save_variables.py   training_data_landfrac_1.pkl  variables_and_shapes.txt
LSTM_model.pt  offline_training.py  test_LSTM_model.py  training_data_landfrac_1.txt
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ srun -A CLI185 --partition=batch_high_memory --nodes=1 --mem=200G -t 1:00:00 python test_LSTM_model.py 
srun: job 81319 queued and waiting for resources
srun: job 81319 has been allocated resources
Traceback (most recent call last):
  File "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/test_LSTM_model.py", line 12, in <module>
    model = torch.jit.load(model_file)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/offline_training/lib/python3.11/site-packages/torch/jit/_serialization.py", line 163, in load
    cpp_module = torch._C.import_ir_module(cu, os.fspath(f), map_location, _extra_files, _restore_shapes)  # type: ignore[call-arg]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: PytorchStreamReader failed locating file constants.pkl: file not found
srun: error: baseline9: task 0: Exited with exit code 1
srun: Terminating StepId=81319.0
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim test_LSTM_model.py 
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch         offline_training     save_variables.py   training_data_landfrac_1.pkl  variables_and_shapes.txt
LSTM_model.pt  offline_training.py  test_LSTM_model.py  training_data_landfrac_1.txt
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ cd FTorch/
(offline_training) [guzhuowei0407@baseline-login2 FTorch]$ ls
examples        FTorch.md  LICENSE  README.md         ruff.toml                 src
fortitude.toml  install    pages    requirements.txt  run_integration_tests.sh  utils
(offline_training) [guzhuowei0407@baseline-login2 FTorch]$ cd examples/
(offline_training) [guzhuowei0407@baseline-login2 examples]$ ls
1_SimpleNet  3_MultiGPU  5_Looping   7_Transformer   n_c_and_cpp
2_ResNet18   4_MultiIO   6_Autograd  CMakeLists.txt  README.md
(offline_training) [guzhuowei0407@baseline-login2 examples]$ cd 7_Transformer/
(offline_training) [guzhuowei0407@baseline-login2 7_Transformer]$ ks
-bash: ks: command not found
(offline_training) [guzhuowei0407@baseline-login2 7_Transformer]$ ls
CMakeLists.txt  pt2ts.py          transformer_infer_fortran.f90       transformer_precipitation_model.py
Makefile        requirements.txt  transformer_precipitation_model.pt
(offline_training) [guzhuowei0407@baseline-login2 7_Transformer]$ ls
CMakeLists.txt  pt2ts.py          transformer_infer_fortran.f90       transformer_precipitation_model.py
Makefile        requirements.txt  transformer_precipitation_model.pt
(offline_training) [guzhuowei0407@baseline-login2 7_Transformer]$ cd ..
(offline_training) [guzhuowei0407@baseline-login2 examples]$ ls
1_SimpleNet  3_MultiGPU  5_Looping   7_Transformer   n_c_and_cpp
2_ResNet18   4_MultiIO   6_Autograd  CMakeLists.txt  README.md
(offline_training) [guzhuowei0407@baseline-login2 examples]$ cd ..
(offline_training) [guzhuowei0407@baseline-login2 FTorch]$ ls
examples        FTorch.md  LICENSE  README.md         ruff.toml                 src
fortitude.toml  install    pages    requirements.txt  run_integration_tests.sh  utils
(offline_training) [guzhuowei0407@baseline-login2 FTorch]$ cd ..
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch         offline_training     save_variables.py   training_data_landfrac_1.pkl  variables_and_shapes.txt
LSTM_model.pt  offline_training.py  test_LSTM_model.py  training_data_landfrac_1.txt
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ cd ..
(offline_training) [guzhuowei0407@baseline-login2 guzhuowei0407]$ ls
Fortran-Pytorch  kmELM  NA_cases_data  software  uELM  uELM_orig  uELM_result
(offline_training) [guzhuowei0407@baseline-login2 guzhuowei0407]$ cd ..
(offline_training) [guzhuowei0407@baseline-login2 scratch]$ ls
3hg  8n8    bxw      emy            hof  ji8       mfx              p40       rym  velliquettet  xyk     zdr
5vz  alp    cql0536  f9y            ipt  l2g       mosesadebayo001  patjneri  ud4  wangd         y9s     zk6
6ru  b0u    dry      guzhuowei0407  isp  l8h       myt              pvn       uec  wei611        yunhef
7s2  bails  dyd      hnw            jbk  mbeckage  omearata         r62       ulj  xiaoman       ywo
(offline_training) [guzhuowei0407@baseline-login2 scratch]$ cd wangd/
-bash: cd: wangd/: Permission denied
(offline_training) [guzhuowei0407@baseline-login2 scratch]$ ls
3hg  8n8    bxw      emy            hof  ji8       mfx              p40       rym  velliquettet  xyk     zdr
5vz  alp    cql0536  f9y            ipt  l2g       mosesadebayo001  patjneri  ud4  wangd         y9s     zk6
6ru  b0u    dry      guzhuowei0407  isp  l8h       myt              pvn       uec  wei611        yunhef
7s2  bails  dyd      hnw            jbk  mbeckage  omearata         r62       ulj  xiaoman       ywo
(offline_training) [guzhuowei0407@baseline-login2 scratch]$ cd ..
(offline_training) [guzhuowei0407@baseline-login2 cli185]$ ls
proj-shared  scratch  world-shared
(offline_training) [guzhuowei0407@baseline-login2 cli185]$ cd proj-shared/
(offline_training) [guzhuowei0407@baseline-login2 proj-shared]$ ls
5vz                                  Daymet_GSWP3_4KM_TESSFA              perm                xyk
8n8                                  f9y                                  pnetcdf-1.13.0.tar  y9s
ats-build                            japg                                 pt-e3sm-inputdata   ywo
cql0536                              jbk                                  pvn                 zdr
Daymet_downscaled_cmip6_DBCCA_RegCM  Livneh_downscaled_cmip6_DBCCA_RegCM  TESSFA
Daymet_GSWP3                         lux5                                 ud4
Daymet_GSWP3_1km_NA                  mfx                                  wangd
(offline_training) [guzhuowei0407@baseline-login2 proj-shared]$ cd wangd/
(offline_training) [guzhuowei0407@baseline-login2 wangd]$ ls
AI_data                 Daymet_GSWP3_1km_NA  forcing_src_files.txt          pt-s3sm-inputdata  uELM.tar.gz
ai_data.tar.gz          e3sm_cases           grid25                         summitplus_BK      untar_Daymet2014
AKSP_data               fileexchange         kiloCraft                      SurfProp           vz
AKSP.tar.gz             FluxNA_data          kmELM                          temp               wangd.summit.tar.tz
datastage               FluxNA_data2014      land_cover_2020v2_30m_tif.zip  tmp                z
Daymet_domains          FluxNA.tar.gz        lns_batch.sh                   uELM
Daymet_ESM_NA_2014.tar  Forcing_2014         pace_tools                     uELM_preGPU
(offline_training) [guzhuowei0407@baseline-login2 wangd]$ ls -l
total 1374762533
drwxrwsr-x  3 wangd cli185          4096 Nov  7 22:40 AI_data
-rw-rw-r--  1 wangd cli185       8578305 Sep 22 14:06 ai_data.tar.gz
drwxrwsr-x  2 wangd cli185          4096 Mar  1  2024 AKSP_data
-rw-r--r--  1 wangd cli185     319170605 Mar  1  2024 AKSP.tar.gz
drwxrwsr-x  2 wangd cli185          4096 Mar 22  2024 datastage
drwxrwsr-x  2 wangd cli185          4096 Mar  1  2024 Daymet_domains
-rw-r--r--  1 wangd cli185 1226119720448 Mar  1  2024 Daymet_ESM_NA_2014.tar
drwxrwsr-x 13 wangd cli185          4096 Nov 27 13:09 Daymet_GSWP3_1km_NA
drwxrwsr-x 10 wangd cli185          4096 Oct  3 21:01 e3sm_cases
drwxrwsr-x  5 wangd cli185          4096 Nov 29 21:47 fileexchange
drwxrwsr-x  2 wangd cli185          4096 Mar  1  2024 FluxNA_data
drwxrwsr-x  2 wangd cli185          8192 Mar  1  2024 FluxNA_data2014
-rw-r--r--  1 wangd cli185         99280 Mar  1  2024 FluxNA.tar.gz
drwxrwsr-x  5 wangd cli185          4096 Apr  5  2024 Forcing_2014
-rw-rw-r--  1 wangd cli185          7795 Mar 18  2024 forcing_src_files.txt
drwxrwsr-x  2 wangd cli185          4096 Oct 14 22:48 grid25
drwxrwsr-x 11 wangd cli185          4096 Nov 27 09:41 kiloCraft
drwxrwsr-x 17 wangd cli185          4096 Dec  1 14:58 kmELM
-rw-r--r--  1 wangd cli185      23953408 Jan  3 19:54 land_cover_2020v2_30m_tif.zip
-rw-rw-r--  1 wangd cli185          6054 Mar 22  2024 lns_batch.sh
drwxrwsr-x  2 wangd cli185          4096 Jan  2 20:24 pace_tools
drwxrwsr-x  4 wangd cli185          4096 Jun 17  2024 pt-s3sm-inputdata
drwxr-sr-x  7 wangd cli185          4096 Oct 28 09:13 summitplus_BK
drwxrwsr-x  2 wangd cli185          4096 Mar  1  2024 SurfProp
drwxrwsr-x  3 wangd cli185          4096 Nov 30 00:55 temp
drwxrwsr-x  2 wangd cli185          4096 Mar 22  2024 tmp
drwxrwsr-x 16 wangd cli185          4096 Dec 16 14:51 uELM
drwxrwsr-x  3 wangd cli185          4096 Nov 29 21:59 uELM_preGPU
-rw-r--r--  1 wangd cli185  183604572160 Mar  1  2024 uELM.tar.gz
-rw-rw-r--  1 wangd cli185          3597 Mar  1  2024 untar_Daymet2014
-rw-rw-r--  1 wangd cli185      50954240 Sep 22 14:05 vz
-rw-r--r--  1 wangd cli185    1026625628 Mar  1  2024 wangd.summit.tar.tz
-rw-rw-r--  1 wangd cli185      50954240 Sep 22 14:01 z
(offline_training) [guzhuowei0407@baseline-login2 wangd]$ ls
AI_data                 Daymet_GSWP3_1km_NA  forcing_src_files.txt          pt-s3sm-inputdata  uELM.tar.gz
ai_data.tar.gz          e3sm_cases           grid25                         summitplus_BK      untar_Daymet2014
AKSP_data               fileexchange         kiloCraft                      SurfProp           vz
AKSP.tar.gz             FluxNA_data          kmELM                          temp               wangd.summit.tar.tz
datastage               FluxNA_data2014      land_cover_2020v2_30m_tif.zip  tmp                z
Daymet_domains          FluxNA.tar.gz        lns_batch.sh                   uELM
Daymet_ESM_NA_2014.tar  Forcing_2014         pace_tools                     uELM_preGPU
(offline_training) [guzhuowei0407@baseline-login2 wangd]$ ls
AI_data                 Daymet_GSWP3_1km_NA  forcing_src_files.txt          pt-s3sm-inputdata  uELM.tar.gz
ai_data.tar.gz          e3sm_cases           grid25                         summitplus_BK      untar_Daymet2014
AKSP_data               fileexchange         kiloCraft                      SurfProp           vz
AKSP.tar.gz             FluxNA_data          kmELM                          temp               wangd.summit.tar.tz
datastage               FluxNA_data2014      land_cover_2020v2_30m_tif.zip  tmp                z
Daymet_domains          FluxNA.tar.gz        lns_batch.sh                   uELM
Daymet_ESM_NA_2014.tar  Forcing_2014         pace_tools                     uELM_preGPU
(offline_training) [guzhuowei0407@baseline-login2 wangd]$ cd ..
(offline_training) [guzhuowei0407@baseline-login2 proj-shared]$ ls
5vz                                  Daymet_GSWP3_4KM_TESSFA              perm                xyk
8n8                                  f9y                                  pnetcdf-1.13.0.tar  y9s
ats-build                            japg                                 pt-e3sm-inputdata   ywo
cql0536                              jbk                                  pvn                 zdr
Daymet_downscaled_cmip6_DBCCA_RegCM  Livneh_downscaled_cmip6_DBCCA_RegCM  TESSFA
Daymet_GSWP3                         lux5                                 ud4
Daymet_GSWP3_1km_NA                  mfx                                  wangd
(offline_training) [guzhuowei0407@baseline-login2 proj-shared]$ cd ..
(offline_training) [guzhuowei0407@baseline-login2 cli185]$ ls
proj-shared  scratch  world-shared
(offline_training) [guzhuowei0407@baseline-login2 cli185]$ cd scratch/
(offline_training) [guzhuowei0407@baseline-login2 scratch]$ ls
3hg  8n8    bxw      emy            hof  ji8       mfx              p40       rym  velliquettet  xyk     zdr
5vz  alp    cql0536  f9y            ipt  l2g       mosesadebayo001  patjneri  ud4  wangd         y9s     zk6
6ru  b0u    dry      guzhuowei0407  isp  l8h       myt              pvn       uec  wei611        yunhef
7s2  bails  dyd      hnw            jbk  mbeckage  omearata         r62       ulj  xiaoman       ywo
(offline_training) [guzhuowei0407@baseline-login2 scratch]$ cd guzhuowei0407/
(offline_training) [guzhuowei0407@baseline-login2 guzhuowei0407]$ ls
Fortran-Pytorch  kmELM  NA_cases_data  software  uELM  uELM_orig  uELM_result
(offline_training) [guzhuowei0407@baseline-login2 guzhuowei0407]$ cd kmELM/
(offline_training) [guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
(offline_training) [guzhuowei0407@baseline-login2 kmELM]$ cd case_gene/
(offline_training) [guzhuowei0407@baseline-login2 case_gene]$ ls
ORNL_baseline
(offline_training) [guzhuowei0407@baseline-login2 case_gene]$ cd ORNL_baseline/
(offline_training) [guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TN.sh
(offline_training) [guzhuowei0407@baseline-login2 ORNL_baseline]$ deactive offline_training
-bash: deactive: command not found
(offline_training) [guzhuowei0407@baseline-login2 ORNL_baseline]$ deactivate
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ cd ..
[guzhuowei0407@baseline-login2 case_gene]$ ls
ORNL_baseline
[guzhuowei0407@baseline-login2 case_gene]$ ls
ORNL_baseline
[guzhuowei0407@baseline-login2 case_gene]$ cd ORNL_baseline/
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ vim uELM_caseGEN_TES_TVA.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ vim uELM_caseGEN_TES_TVA.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ pwd
/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/case_gene/ORNL_baseline
[guzhuowei0407@baseline-login2 ORNL_baseline]$ vim uELM_caseGEN_TN.sh 
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls -l
total 3
-rw-rw-r-- 1 guzhuowei0407 guzhuowei0407  609 Dec 17 00:24 README.md
-rw-rw-r-- 1 guzhuowei0407 guzhuowei0407 2178 Dec 17 00:24 uELM_caseGEN_AKSP.sh
-rw-rw-r-- 1 guzhuowei0407 guzhuowei0407 2189 Dec 23 23:50 uELM_caseGEN_AKSP_user_defined_mask.sh
-rw-rw-r-- 1 guzhuowei0407 guzhuowei0407 2724 Jan  5 21:16 uELM_caseGEN_TES_TVA.sh
-rw-rw-r-- 1 guzhuowei0407 guzhuowei0407 2201 Dec 17 00:24 uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ sh uELM_caseGEN_TES_TVA.sh 
E3SM_SRCROOT: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM
E3SM_DIN: //gpfs/wolf2/cades/cli185/world-shared/e3sm
ln: failed to create symbolic link '/gpfs/wolf2/cades/cli185/proj-shared/wangd/kiloCraft/TES_cases_data/Daymet_ERA5_TESSFA2//TVA/atm_forcing.datm7.km.1d/domain.lnd.Daymet.km.1d.nc': File exists
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ vim uELM_caseGEN_TES_TVA.sh 
[guzhuowei0407@baseline-login2 ORNL_baseline]$ sh uELM_caseGEN_TES_TVA.sh 
E3SM_SRCROOT: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM
E3SM_DIN: //gpfs/wolf2/cades/cli185/world-shared/e3sm
ln: failed to create symbolic link '/gpfs/wolf2/cades/cli185/proj-shared/wangd/kiloCraft/TES_cases_data/Daymet_ERA5_TESSFA2//TVA/atm_forcing.datm7.km.1d/domain.lnd.Daymet.km.1d.nc': File exists
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ vim uELM_caseGEN_TES_TVA.sh 
[guzhuowei0407@baseline-login2 ORNL_baseline]$ sh uELM_caseGEN_TES_TVA.sh 
E3SM_SRCROOT: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM
E3SM_DIN: //gpfs/wolf2/cades/cli185/world-shared/e3sm
Compset longname is 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV
Compset specification file is /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/config_compsets.xml
Automatically adding SIAC to compset
Automatically adding SESP to compset
Compset forcing is 
Com forcing is pre-industrial:
ATM component is  Data driven ATM  Daymet NA data set, sub-daily downscaled with ERA5 for TESSFA project 
LND component is ELM with :CN :C-N-P, nutrient competition via relative demand, ctc soil cascade with black carbon deposition :
ICE component is Stub ice component
OCN component is Stub ocn component
ROF component is MOSART:
GLC component is Stub glacier (land ice) component
WAV component is Stub wave component
IAC component is Stub iac component
ESP component is Stub external system processing (ESP) component
Pes     specification file is /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/config_pes.xml
Machine is cades-baseline
Pes setting: grid          is a%ELM_USRDAT_l%ELM_USRDAT_oi%null_r%null_g%null_w%null_z%null_m%reg 
Pes setting: compset       is 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP 
Pes setting: tasks       is {'NTASKS_ATM': -1, 'NTASKS_LND': -1, 'NTASKS_ROF': -1, 'NTASKS_ICE': -1, 'NTASKS_OCN': -1, 'NTASKS_GLC': -1, 'NTASKS_WAV': -1, 'NTASKS_CPL': -1} 
Pes setting: threads     is {} 
Pes setting: rootpe      is {} 
Pes setting: pstrid      is {} 
Pes other settings: {}
Pes other settings append: {}
Pes comments: elm: 1-node default for any grid,mach,compset
setting additional fields from config_pes: {}, append {}
 Compset is: 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP 
 Grid is: a%ELM_USRDAT_l%ELM_USRDAT_oi%null_r%null_g%null_w%null_z%null_m%reg 
 Components in compset are: ['datm', 'elm', 'sice', 'socn', 'mosart', 'sglc', 'swav', 'siac', 'sesp'] 
No project info available
No charge_account info available, using value from PROJECT
e3sm model version found: 913357a944
Batch_system_type is slurm
job is case.run USER_REQUESTED_WALLTIME None USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
job is case.st_archive USER_REQUESTED_WALLTIME None USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
 Creating Case directory /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
job is case.run USER_REQUESTED_WALLTIME 24:00:00 USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
Creating batch scripts
Writing case.run script from input template /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/template.case.run
Creating file .case.run
Writing case.st_archive script from input template /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/template.st_archive
Creating file case.st_archive
Creating file .case.run.sh
Creating user_nl_xxx files for components and cpl
If an old case build already exists, might want to run 'case.build --clean' before building
Generating component namelists as part of setup
  2025-01-05 21:21:46 atm 
Create namelist for component datm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/data_comps/datm/cime_config/buildnml
  2025-01-05 21:21:46 lnd 
Create namelist for component elm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/buildnml
  2025-01-05 21:21:47 ice 
Create namelist for component sice
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sice/cime_config/buildnml
  2025-01-05 21:21:47 ocn 
Create namelist for component socn
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/socn/cime_config/buildnml
  2025-01-05 21:21:47 rof 
Create namelist for component mosart
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/mosart//cime_config/buildnml
MOSART::buildnml compset  1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP
False
MOSART::buildnml final infile_text is: 
  2025-01-05 21:21:47 glc 
Create namelist for component sglc
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sglc/cime_config/buildnml
  2025-01-05 21:21:47 wav 
Create namelist for component swav
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/swav/cime_config/buildnml
  2025-01-05 21:21:47 iac 
Create namelist for component siac
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/siac/cime_config/buildnml
  2025-01-05 21:21:47 esp 
Create namelist for component sesp
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sesp/cime_config/buildnml
  2025-01-05 21:21:47 cpl 
Create namelist for component drv
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/driver-mct/cime_config/buildnml
You can now run './preview_run' to get more info on how your case will be run
Building case in directory /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
sharedlib_only is False
model_only is False
Generating component namelists as part of build
  2025-01-05 21:21:49 atm 
Create namelist for component datm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/data_comps/datm/cime_config/buildnml
  2025-01-05 21:21:49 lnd 
Create namelist for component elm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/buildnml
  2025-01-05 21:21:49 ice 
Create namelist for component sice
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sice/cime_config/buildnml
  2025-01-05 21:21:49 ocn 
Create namelist for component socn
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/socn/cime_config/buildnml
  2025-01-05 21:21:49 rof 
Create namelist for component mosart
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/mosart//cime_config/buildnml
MOSART::buildnml compset  1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP
False
MOSART::buildnml final infile_text is: 
  2025-01-05 21:21:49 glc 
Create namelist for component sglc
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sglc/cime_config/buildnml
  2025-01-05 21:21:49 wav 
Create namelist for component swav
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/swav/cime_config/buildnml
  2025-01-05 21:21:49 iac 
Create namelist for component siac
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/siac/cime_config/buildnml
  2025-01-05 21:21:49 esp 
Create namelist for component sesp
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sesp/cime_config/buildnml
  2025-01-05 21:21:49 cpl 
Create namelist for component drv
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/driver-mct/cime_config/buildnml
Building gptl with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/gptl.bldlog.250105-212148
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.gptl
Component gptl build complete with 1 warnings
Building mct with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/mct.bldlog.250105-212148
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.mct
Component mct build complete with 48 warnings
Building spio with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/spio.bldlog.250105-212148
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.spio
Building csm_share with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/csm_share.bldlog.250105-212148
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.csm_share
Component csm_share build complete with 26 warnings
Configuring full e3sm model with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/e3sm.bldlog.250105-212148
   Calling cmake directly, see top of log file for specific call
Building e3sm model with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/e3sm.bldlog.250105-212148
   Calling make, see top of log file for specific call
Total build time: 163.193286 seconds
MODEL BUILD HAS FINISHED SUCCESSFULLY
[guzhuowei0407@baseline-login2 ORNL_baseline]$ squeue -u guzhuowei0407
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ cd ..
[guzhuowei0407@baseline-login2 case_gene]$ ls
ORNL_baseline
[guzhuowei0407@baseline-login2 case_gene]$ cd ..
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ cd ..
[guzhuowei0407@baseline-login2 guzhuowei0407]$ ls
Fortran-Pytorch  kmELM  NA_cases_data  software  uELM  uELM_orig  uELM_result
[guzhuowei0407@baseline-login2 guzhuowei0407]$ cd kmELM/
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ cd e3sm_runs/
[guzhuowei0407@baseline-login2 e3sm_runs]$ ls
uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask  uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
[guzhuowei0407@baseline-login2 e3sm_runs]$ cd uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ ls
bld  run
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ cd run/
[guzhuowei0407@baseline-login2 run]$ ls
atm_modelio.nml                      datm.streams.txt.topo.observed   esp_modelio.nml  lnd_modelio.nml  wav_modelio.nml
CASEROOT                             datm.streams.txt.uELM_TES.Prec   glc_modelio.nml  mosart_in
cpl_modelio.nml                      datm.streams.txt.uELM_TES.Solr   iac_modelio.nml  ocn_modelio.nml
datm_in                              datm.streams.txt.uELM_TES.TPQWL  ice_modelio.nml  rof_modelio.nml
datm.streams.txt.presaero.clim_1850  drv_in                           lnd_in           seq_maps.rc
[guzhuowei0407@baseline-login2 run]$ cd ..
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ ls
bld  run
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ cd ..
[guzhuowei0407@baseline-login2 e3sm_runs]$ ls
uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask  uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
[guzhuowei0407@baseline-login2 e3sm_runs]$ cd ..
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ cd e3sm_cases/
[guzhuowei0407@baseline-login2 e3sm_cases]$ ls
uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask  uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
[guzhuowei0407@baseline-login2 e3sm_cases]$ cd uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ ls
Buildconf              case.submit        env_case.xml           pelayout                  user_nl_cpl
case.build             check_case         env_mach_pes.xml       preview_namelists         user_nl_datm
case.cmpgen_namelists  check_input_data   env_mach_specific.xml  preview_run               user_nl_elm
CaseDocs               cmake_macros       env_run.xml            README.case               user_nl_mosart
case.qstatus           Depends.gnu.cmake  env_workflow.xml       replay.sh                 xmlchange
case.setup             env_archive.xml    LockedFiles            software_environment.txt  xmlquery
case.st_archive        env_batch.xml      Macros.cmake           SourceMods
CaseStatus             env_build.xml      Macros.make            Tools
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ ./case.submit 
  2025-01-05 21:30:15 atm 
Create namelist for component datm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/data_comps/datm/cime_config/buildnml
  2025-01-05 21:30:15 lnd 
Create namelist for component elm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/buildnml
  2025-01-05 21:30:16 ice 
Create namelist for component sice
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sice/cime_config/buildnml
  2025-01-05 21:30:16 ocn 
Create namelist for component socn
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/socn/cime_config/buildnml
  2025-01-05 21:30:16 rof 
Create namelist for component mosart
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/mosart//cime_config/buildnml
MOSART::buildnml compset  1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP
False
MOSART::buildnml final infile_text is: 
  2025-01-05 21:30:16 glc 
Create namelist for component sglc
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sglc/cime_config/buildnml
  2025-01-05 21:30:16 wav 
Create namelist for component swav
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/swav/cime_config/buildnml
  2025-01-05 21:30:16 iac 
Create namelist for component siac
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/siac/cime_config/buildnml
  2025-01-05 21:30:16 esp 
Create namelist for component sesp
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sesp/cime_config/buildnml
  2025-01-05 21:30:16 cpl 
Create namelist for component drv
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/driver-mct/cime_config/buildnml
Checking that inputdata is available as part of case submission
Loading input file list: 'Buildconf/cpl.input_data_list'
Loading input file list: 'Buildconf/datm.input_data_list'
Loading input file list: 'Buildconf/elm.input_data_list'
Model elm no file specified for finidat
Loading input file list: 'Buildconf/mosart.input_data_list'
Check case OK
submit_jobs case.run
Submit job case.run
Submitting job script sbatch --time 24:00:00 -p batch   -A CLI185 --mem=0G --ntasks-per-node 128 /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/.case.run --resubmit
Submitted job id is 81347
Submitted job case.run with id 81347
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ ls
Buildconf              case.submit        env_case.xml           pelayout                  user_nl_cpl
case.build             check_case         env_mach_pes.xml       preview_namelists         user_nl_datm
case.cmpgen_namelists  check_input_data   env_mach_specific.xml  preview_run               user_nl_elm
CaseDocs               cmake_macros       env_run.xml            README.case               user_nl_mosart
case.qstatus           Depends.gnu.cmake  env_workflow.xml       replay.sh                 xmlchange
case.setup             env_archive.xml    LockedFiles            software_environment.txt  xmlquery
case.st_archive        env_batch.xml      Macros.cmake           SourceMods
CaseStatus             env_build.xml      Macros.make            Tools
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ cd ..
[guzhuowei0407@baseline-login2 e3sm_cases]$ ls
uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask  uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
[guzhuowei0407@baseline-login2 e3sm_cases]$ cd ..
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ cd components/
[guzhuowei0407@baseline-login2 components]$ ls
cice   CMakeLists.txt  eam    elm    mosart               mpas-framework  mpas-seaice  ww3
cmake  data_comps      eamxx  homme  mpas-albany-landice  mpas-ocean      stub_comps   xcpl_comps
[guzhuowei0407@baseline-login2 components]$ cd elm/
[guzhuowei0407@baseline-login2 elm]$ ls
bld  cime_config  docs  mkdocs.yml  src  test  tools
[guzhuowei0407@baseline-login2 elm]$ cd src/
[guzhuowei0407@baseline-login2 src]$ ls
biogeochem  biogeophys  CMakeLists.txt  cpl  data_types  dyn_subgrid  external_models  main  README.unit_testing  utils
[guzhuowei0407@baseline-login2 src]$ cd main/
[guzhuowei0407@baseline-login2 main]$ ls
abortutils.F90                  elm_interface_bgcType.F90      histGPUMod.F90        perfMod_GPU.F90
accumulMod.F90                  elm_interface_dataType.F90     initGridCellsMod.F90  pftvarcon.F90
atm2lndMod.F90                  elm_interface_funcsMod.F90     init_hydrology.F90    readParamsMod.F90
atm2lndType.F90                 elm_interface_pflotranMod.F90  initInterp.F90        restFileMod.F90
CMakeLists.txt                  elm_interface_thType.F90       initSubgridMod.F90    reweightMod.F90
ColumnMod.F90                   elm_varcon.F90                 initVerticalMod.F90   SoilorderConType.F90
column_varcon.F90               elm_varctl.F90                 LandunitMod.F90       soilorder_varcon.F90
controlMod.F90                  elm_varpar.F90                 landunit_varcon.F90   subgridAveMod.F90
decompInitMod.F90               elm_varsur.F90                 lnd2atmMod.F90        subgridMod.F90
decompMod.F90                   fanStreamMod.F90               lnd2atmType.F90       subgridRestMod.F90
elm_driver.F90                  filterMod.F90                  lnd2glcMod.F90        subgridWeightsMod.F90
elmfates_interfaceMod.F90       findHistFields.pl              ncdio_pio.F90.in      surfrdMod.F90
elmfates_paraminterfaceMod.F90  FuncPedotransferMod.F90        ndepStreamMod.F90     surfrdUtilsMod.F90
elm_finalizeMod.F90             GetGlobalValuesMod.F90         organicFileMod.F90    timeinfoMod.F90
elm_initializeMod.F90           glc2lndMod.F90                 paramUtilMod.F90      topounit_varcon.F90
elm_instance.F90                glcDiagnosticsMod.F90          PatchMod.F90
elm_instMod.F90                 histFileMod.F90                pdepStreamMod.F90
[guzhuowei0407@baseline-login2 main]$ vim decompInitMod.F90 
[guzhuowei0407@baseline-login2 main]$ ls
abortutils.F90                  elm_interface_bgcType.F90      histGPUMod.F90        perfMod_GPU.F90
accumulMod.F90                  elm_interface_dataType.F90     initGridCellsMod.F90  pftvarcon.F90
atm2lndMod.F90                  elm_interface_funcsMod.F90     init_hydrology.F90    readParamsMod.F90
atm2lndType.F90                 elm_interface_pflotranMod.F90  initInterp.F90        restFileMod.F90
CMakeLists.txt                  elm_interface_thType.F90       initSubgridMod.F90    reweightMod.F90
ColumnMod.F90                   elm_varcon.F90                 initVerticalMod.F90   SoilorderConType.F90
column_varcon.F90               elm_varctl.F90                 LandunitMod.F90       soilorder_varcon.F90
controlMod.F90                  elm_varpar.F90                 landunit_varcon.F90   subgridAveMod.F90
decompInitMod.F90               elm_varsur.F90                 lnd2atmMod.F90        subgridMod.F90
decompMod.F90                   fanStreamMod.F90               lnd2atmType.F90       subgridRestMod.F90
elm_driver.F90                  filterMod.F90                  lnd2glcMod.F90        subgridWeightsMod.F90
elmfates_interfaceMod.F90       findHistFields.pl              ncdio_pio.F90.in      surfrdMod.F90
elmfates_paraminterfaceMod.F90  FuncPedotransferMod.F90        ndepStreamMod.F90     surfrdUtilsMod.F90
elm_finalizeMod.F90             GetGlobalValuesMod.F90         organicFileMod.F90    timeinfoMod.F90
elm_initializeMod.F90           glc2lndMod.F90                 paramUtilMod.F90      topounit_varcon.F90
elm_instance.F90                glcDiagnosticsMod.F90          PatchMod.F90
elm_instMod.F90                 histFileMod.F90                pdepStreamMod.F90
[guzhuowei0407@baseline-login2 main]$ cd ..
[guzhuowei0407@baseline-login2 src]$ ls
biogeochem  biogeophys  CMakeLists.txt  cpl  data_types  dyn_subgrid  external_models  main  README.unit_testing  utils
[guzhuowei0407@baseline-login2 src]$ cd ..
[guzhuowei0407@baseline-login2 elm]$ ls
bld  cime_config  docs  mkdocs.yml  src  test  tools
[guzhuowei0407@baseline-login2 elm]$ cd ..
[guzhuowei0407@baseline-login2 components]$ ls
cice   CMakeLists.txt  eam    elm    mosart               mpas-framework  mpas-seaice  ww3
cmake  data_comps      eamxx  homme  mpas-albany-landice  mpas-ocean      stub_comps   xcpl_comps
[guzhuowei0407@baseline-login2 components]$ ls
cice   CMakeLists.txt  eam    elm    mosart               mpas-framework  mpas-seaice  ww3
cmake  data_comps      eamxx  homme  mpas-albany-landice  mpas-ocean      stub_comps   xcpl_comps
[guzhuowei0407@baseline-login2 components]$ squeue -u guzhuowei0407
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
             81347     batch run.uELM guzhuowe  R       0:32      5 baseline[73-77]
[guzhuowei0407@baseline-login2 components]$ ls
cice   CMakeLists.txt  eam    elm    mosart               mpas-framework  mpas-seaice  ww3
cmake  data_comps      eamxx  homme  mpas-albany-landice  mpas-ocean      stub_comps   xcpl_comps
[guzhuowei0407@baseline-login2 components]$ cd ..
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ squeue -u guzhuowei0407
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
             81347     batch run.uELM guzhuowe  R       3:17      5 baseline[73-77]
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ cd ..
[guzhuowei0407@baseline-login2 guzhuowei0407]$ ls
Fortran-Pytorch  kmELM  NA_cases_data  software  uELM  uELM_orig  uELM_result
[guzhuowei0407@baseline-login2 guzhuowei0407]$ cd Fortran-Pytorch/
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch         offline_training     save_variables.py   training_data_landfrac_1.pkl  variables_and_shapes.txt
LSTM_model.pt  offline_training.py  test_LSTM_model.py  training_data_landfrac_1.txt
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ source offline_training/bin/activate
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch         offline_training     save_variables.py   training_data_landfrac_1.pkl  variables_and_shapes.txt
LSTM_model.pt  offline_training.py  test_LSTM_model.py  training_data_landfrac_1.txt
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ python test_LSTM_model.py 
Traceback (most recent call last):
  File "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/test_LSTM_model.py", line 12, in <module>
    model = torch.jit.load(model_file)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/Fortran-Pytorch/offline_training/lib/python3.11/site-packages/torch/jit/_serialization.py", line 163, in load
    cpp_module = torch._C.import_ir_module(cu, os.fspath(f), map_location, _extra_files, _restore_shapes)  # type: ignore[call-arg]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: PytorchStreamReader failed locating file constants.pkl: file not found
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim test_LSTM_model.py 
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch         offline_training     save_variables.py   training_data_landfrac_1.pkl  variables_and_shapes.txt
LSTM_model.pt  offline_training.py  test_LSTM_model.py  training_data_landfrac_1.txt
(offline_training) [guzhuowei0407@baseline-login2 Fortran-Pytorch]$ cd FTorch/
(offline_training) [guzhuowei0407@baseline-login2 FTorch]$ ls
examples        FTorch.md  LICENSE  README.md         ruff.toml                 src
fortitude.toml  install    pages    requirements.txt  run_integration_tests.sh  utils
(offline_training) [guzhuowei0407@baseline-login2 FTorch]$ cd examples/
(offline_training) [guzhuowei0407@baseline-login2 examples]$ ls
1_SimpleNet  3_MultiGPU  5_Looping   7_Transformer   n_c_and_cpp
2_ResNet18   4_MultiIO   6_Autograd  CMakeLists.txt  README.md
(offline_training) [guzhuowei0407@baseline-login2 examples]$ cd 7_Transformer/
(offline_training) [guzhuowei0407@baseline-login2 7_Transformer]$ ls
CMakeLists.txt  pt2ts.py          transformer_infer_fortran.f90       transformer_precipitation_model.py
Makefile        requirements.txt  transformer_precipitation_model.pt
(offline_training) [guzhuowei0407@baseline-login2 7_Transformer]$ vim transformer_precipitation_model.pt
(offline_training) [guzhuowei0407@baseline-login2 7_Transformer]$ ls
CMakeLists.txt  pt2ts.py          transformer_infer_fortran.f90       transformer_precipitation_model.py
Makefile        requirements.txt  transformer_precipitation_model.pt
(offline_training) [guzhuowei0407@baseline-login2 7_Transformer]$ vim transformer_precipitation_model.py
(offline_training) [guzhuowei0407@baseline-login2 7_Transformer]$ vim transformer_precipitation_model.py
(offline_training) [guzhuowei0407@baseline-login2 7_Transformer]$ ls
CMakeLists.txt  pt2ts.py          transformer_infer_fortran.f90       transformer_precipitation_model.py
Makefile        requirements.txt  transformer_precipitation_model.pt
(offline_training) [guzhuowei0407@baseline-login2 7_Transformer]$ ls
CMakeLists.txt  pt2ts.py          transformer_infer_fortran.f90       transformer_precipitation_model.py
Makefile        requirements.txt  transformer_precipitation_model.pt
(offline_training) [guzhuowei0407@baseline-login2 7_Transformer]$ cd ..
(offline_training) [guzhuowei0407@baseline-login2 examples]$ ls
1_SimpleNet  3_MultiGPU  5_Looping   7_Transformer   n_c_and_cpp
2_ResNet18   4_MultiIO   6_Autograd  CMakeLists.txt  README.md
(offline_training) [guzhuowei0407@baseline-login2 examples]$ cd ..
(offline_training) [guzhuowei0407@baseline-login2 FTorch]$ ls
examples        FTorch.md  LICENSE  README.md         ruff.toml                 src
fortitude.toml  install    pages    requirements.txt  run_integration_tests.sh  utils
(offline_training) [guzhuowei0407@baseline-login2 FTorch]$ deactive
-bash: deactive: command not found
(offline_training) [guzhuowei0407@baseline-login2 FTorch]$ ls
examples        FTorch.md  LICENSE  README.md         ruff.toml                 src
fortitude.toml  install    pages    requirements.txt  run_integration_tests.sh  utils
(offline_training) [guzhuowei0407@baseline-login2 FTorch]$ deactive
-bash: deactive: command not found
(offline_training) [guzhuowei0407@baseline-login2 FTorch]$ deactivate
[guzhuowei0407@baseline-login2 FTorch]$ ls
examples        FTorch.md  LICENSE  README.md         ruff.toml                 src
fortitude.toml  install    pages    requirements.txt  run_integration_tests.sh  utils
[guzhuowei0407@baseline-login2 FTorch]$ ls
examples        FTorch.md  LICENSE  README.md         ruff.toml                 src
fortitude.toml  install    pages    requirements.txt  run_integration_tests.sh  utils
[guzhuowei0407@baseline-login2 FTorch]$ cd ..
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch         offline_training     save_variables.py   training_data_landfrac_1.pkl  variables_and_shapes.txt
LSTM_model.pt  offline_training.py  test_LSTM_model.py  training_data_landfrac_1.txt
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ cd ..
[guzhuowei0407@baseline-login2 guzhuowei0407]$ ls
Fortran-Pytorch  kmELM  NA_cases_data  software  uELM  uELM_orig  uELM_result
[guzhuowei0407@baseline-login2 guzhuowei0407]$ cd kmELM/
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ cd e3sm_runs/
[guzhuowei0407@baseline-login2 e3sm_runs]$ ls
uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask  uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
[guzhuowei0407@baseline-login2 e3sm_runs]$ cd uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ ls
bld  run
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ cd run/
[guzhuowei0407@baseline-login2 run]$ ls
atm.log.81347.250105-213027          drv_in                        ocn_modelio.nml
atm_modelio.nml                      e3sm.log.81347.250105-213027  preview_run.log
CASEROOT                             esp_modelio.nml               preview_run.log.81347.250105-213027
cpl.log.81347.250105-213027          glc_modelio.nml               rof.log.81347.250105-213027
cpl_modelio.nml                      iac_modelio.nml               rof_modelio.nml
datm_in                              ice_modelio.nml               seq_maps.rc
datm.streams.txt.presaero.clim_1850  lnd_in                        spio_stats
datm.streams.txt.topo.observed       lnd.log.81347.250105-213027   timing
datm.streams.txt.uELM_TES.Prec       lnd_modelio.nml               wav_modelio.nml
datm.streams.txt.uELM_TES.Solr       memory.3.86400.log
datm.streams.txt.uELM_TES.TPQWL      mosart_in
[guzhuowei0407@baseline-login2 run]$ vim e3sm.log.81347.250105-213027 
[guzhuowei0407@baseline-login2 run]$ vim lnd.log.81347.250105-213027 
[guzhuowei0407@baseline-login2 run]$ ls
atm.log.81347.250105-213027          drv_in                        ocn_modelio.nml
atm_modelio.nml                      e3sm.log.81347.250105-213027  preview_run.log
CASEROOT                             esp_modelio.nml               preview_run.log.81347.250105-213027
cpl.log.81347.250105-213027          glc_modelio.nml               rof.log.81347.250105-213027
cpl_modelio.nml                      iac_modelio.nml               rof_modelio.nml
datm_in                              ice_modelio.nml               seq_maps.rc
datm.streams.txt.presaero.clim_1850  lnd_in                        spio_stats
datm.streams.txt.topo.observed       lnd.log.81347.250105-213027   timing
datm.streams.txt.uELM_TES.Prec       lnd_modelio.nml               wav_modelio.nml
datm.streams.txt.uELM_TES.Solr       memory.3.86400.log
datm.streams.txt.uELM_TES.TPQWL      mosart_in
[guzhuowei0407@baseline-login2 run]$ vim e3sm.log.81347.250105-213027 
[guzhuowei0407@baseline-login2 run]$ ls
atm.log.81347.250105-213027          drv_in                        ocn_modelio.nml
atm_modelio.nml                      e3sm.log.81347.250105-213027  preview_run.log
CASEROOT                             esp_modelio.nml               preview_run.log.81347.250105-213027
cpl.log.81347.250105-213027          glc_modelio.nml               rof.log.81347.250105-213027
cpl_modelio.nml                      iac_modelio.nml               rof_modelio.nml
datm_in                              ice_modelio.nml               seq_maps.rc
datm.streams.txt.presaero.clim_1850  lnd_in                        spio_stats
datm.streams.txt.topo.observed       lnd.log.81347.250105-213027   timing
datm.streams.txt.uELM_TES.Prec       lnd_modelio.nml               wav_modelio.nml
datm.streams.txt.uELM_TES.Solr       memory.3.86400.log
datm.streams.txt.uELM_TES.TPQWL      mosart_in
[guzhuowei0407@baseline-login2 run]$ cd ..
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ ls
bld  run
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ cd ..
[guzhuowei0407@baseline-login2 e3sm_runs]$ ls
uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask  uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
[guzhuowei0407@baseline-login2 e3sm_runs]$ cd ..
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ cd case_gene/
[guzhuowei0407@baseline-login2 case_gene]$ ls
ORNL_baseline
[guzhuowei0407@baseline-login2 case_gene]$ cd ORNL_baseline/
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ module load cmake
[guzhuowei0407@baseline-login2 ORNL_baseline]$ module load netcdf-c
[guzhuowei0407@baseline-login2 ORNL_baseline]$ module load netcdf-fortran
[guzhuowei0407@baseline-login2 ORNL_baseline]$ module load hdf5
[guzhuowei0407@baseline-login2 ORNL_baseline]$ module load parallel-netcdf
[guzhuowei0407@baseline-login2 ORNL_baseline]$ 
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ulimit -n 102400
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ulimit -s 819200
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ulimit -c unlimited
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ vim uELM_caseGEN_TES_TVA.sh 
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ cd ..
[guzhuowei0407@baseline-login2 case_gene]$ ls
ORNL_baseline
[guzhuowei0407@baseline-login2 case_gene]$ cd ..
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ cd e3sm_
-bash: cd: e3sm_: No such file or directory
[guzhuowei0407@baseline-login2 kmELM]$ cd e3sm_cases/
[guzhuowei0407@baseline-login2 e3sm_cases]$ ks
-bash: ks: command not found
[guzhuowei0407@baseline-login2 e3sm_cases]$ ls
uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask  uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
[guzhuowei0407@baseline-login2 e3sm_cases]$ cd uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask/
[guzhuowei0407@baseline-login2 uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask]$ ls
Buildconf              cmake_macros           logs                                                       timing
case.build             Depends.gnu.cmake      Macros.cmake                                               Tools
case.cmpgen_namelists  env_archive.xml        Macros.make                                                user_nl_cpl
CaseDocs               env_batch.xml          pelayout                                                   user_nl_datm
case.qstatus           env_build.xml          preview_namelists                                          user_nl_elm
case.setup             env_case.xml           preview_run                                                user_nl_mosart
case.st_archive        env_mach_pes.xml       README.case                                                xmlchange
CaseStatus             env_mach_specific.xml  replay.sh                                                  xmlquery
case.submit            env_run.xml            run.uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask.80535
check_case             env_workflow.xml       software_environment.txt
check_input_data       LockedFiles            SourceMods
[guzhuowei0407@baseline-login2 uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask]$ vim env_run.xml 
[guzhuowei0407@baseline-login2 uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask]$ ls
Buildconf              cmake_macros           logs                                                       timing
case.build             Depends.gnu.cmake      Macros.cmake                                               Tools
case.cmpgen_namelists  env_archive.xml        Macros.make                                                user_nl_cpl
CaseDocs               env_batch.xml          pelayout                                                   user_nl_datm
case.qstatus           env_build.xml          preview_namelists                                          user_nl_elm
case.setup             env_case.xml           preview_run                                                user_nl_mosart
case.st_archive        env_mach_pes.xml       README.case                                                xmlchange
CaseStatus             env_mach_specific.xml  replay.sh                                                  xmlquery
case.submit            env_run.xml            run.uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask.80535
check_case             env_workflow.xml       software_environment.txt
check_input_data       LockedFiles            SourceMods
[guzhuowei0407@baseline-login2 uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask]$ cd ..
[guzhuowei0407@baseline-login2 e3sm_cases]$ ls
uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask  uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
[guzhuowei0407@baseline-login2 e3sm_cases]$ cd uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ ls
Buildconf              check_input_data       env_workflow.xml   run.uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA.81347
case.build             cmake_macros           LockedFiles        software_environment.txt
case.cmpgen_namelists  Depends.gnu.cmake      logs               SourceMods
CaseDocs               env_archive.xml        Macros.cmake       Tools
case.qstatus           env_batch.xml          Macros.make        user_nl_cpl
case.setup             env_build.xml          pelayout           user_nl_datm
case.st_archive        env_case.xml           preview_namelists  user_nl_elm
CaseStatus             env_mach_pes.xml       preview_run        user_nl_mosart
case.submit            env_mach_specific.xml  README.case        xmlchange
check_case             env_run.xml            replay.sh          xmlquery
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ vim env_build.xml 
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ vim env_run.xml 
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ ./case.submit 
ERROR: CONTINUE_RUN is true but this case does not appear to have restart files staged in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs//uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/run rpointer.drv
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ vim env_run.xml 
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ ls
Buildconf              check_input_data       env_workflow.xml   run.uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA.81347
case.build             cmake_macros           LockedFiles        software_environment.txt
case.cmpgen_namelists  Depends.gnu.cmake      logs               SourceMods
CaseDocs               env_archive.xml        Macros.cmake       Tools
case.qstatus           env_batch.xml          Macros.make        user_nl_cpl
case.setup             env_build.xml          pelayout           user_nl_datm
case.st_archive        env_case.xml           preview_namelists  user_nl_elm
CaseStatus             env_mach_pes.xml       preview_run        user_nl_mosart
case.submit            env_mach_specific.xml  README.case        xmlchange
check_case             env_run.xml            replay.sh          xmlquery
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ ls
Buildconf              check_input_data       env_workflow.xml   run.uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA.81347
case.build             cmake_macros           LockedFiles        software_environment.txt
case.cmpgen_namelists  Depends.gnu.cmake      logs               SourceMods
CaseDocs               env_archive.xml        Macros.cmake       Tools
case.qstatus           env_batch.xml          Macros.make        user_nl_cpl
case.setup             env_build.xml          pelayout           user_nl_datm
case.st_archive        env_case.xml           preview_namelists  user_nl_elm
CaseStatus             env_mach_pes.xml       preview_run        user_nl_mosart
case.submit            env_mach_specific.xml  README.case        xmlchange
check_case             env_run.xml            replay.sh          xmlquery
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ cd ..
[guzhuowei0407@baseline-login2 e3sm_cases]$ ls
uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask  uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
[guzhuowei0407@baseline-login2 e3sm_cases]$ cd ..
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ cd case_gene/
[guzhuowei0407@baseline-login2 case_gene]$ ls
ORNL_baseline
[guzhuowei0407@baseline-login2 case_gene]$ cd ORNL_baseline/
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ vim uELM_caseGEN_TES_TVA.sh 
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ cd ..
[guzhuowei0407@baseline-login2 case_gene]$ ls
ORNL_baseline
[guzhuowei0407@baseline-login2 case_gene]$ cd ..
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ cd e3sm_runs/
[guzhuowei0407@baseline-login2 e3sm_runs]$ cd ..
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ cd e3sm_cases/
[guzhuowei0407@baseline-login2 e3sm_cases]$ ls
uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask  uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
[guzhuowei0407@baseline-login2 e3sm_cases]$ cd uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ ls
Buildconf              check_input_data       env_workflow.xml   run.uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA.81347
case.build             cmake_macros           LockedFiles        software_environment.txt
case.cmpgen_namelists  Depends.gnu.cmake      logs               SourceMods
CaseDocs               env_archive.xml        Macros.cmake       Tools
case.qstatus           env_batch.xml          Macros.make        user_nl_cpl
case.setup             env_build.xml          pelayout           user_nl_datm
case.st_archive        env_case.xml           preview_namelists  user_nl_elm
CaseStatus             env_mach_pes.xml       preview_run        user_nl_mosart
case.submit            env_mach_specific.xml  README.case        xmlchange
check_case             env_run.xml            replay.sh          xmlquery
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ vim env_run.xml 
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ ls
Buildconf              check_input_data       env_workflow.xml   run.uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA.81347
case.build             cmake_macros           LockedFiles        software_environment.txt
case.cmpgen_namelists  Depends.gnu.cmake      logs               SourceMods
CaseDocs               env_archive.xml        Macros.cmake       Tools
case.qstatus           env_batch.xml          Macros.make        user_nl_cpl
case.setup             env_build.xml          pelayout           user_nl_datm
case.st_archive        env_case.xml           preview_namelists  user_nl_elm
CaseStatus             env_mach_pes.xml       preview_run        user_nl_mosart
case.submit            env_mach_specific.xml  README.case        xmlchange
check_case             env_run.xml            replay.sh          xmlquery
[guzhuowei0407@baseline-login2 uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA]$ cd ..
[guzhuowei0407@baseline-login2 e3sm_cases]$ ls
uELM_AKSP_I1850uELMCNPRDCTCBC_user_defined_mask  uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
[guzhuowei0407@baseline-login2 e3sm_cases]$ cd ..
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ cd ..
[guzhuowei0407@baseline-login2 guzhuowei0407]$ ls
Fortran-Pytorch  kmELM  NA_cases_data  software  uELM  uELM_orig  uELM_result
[guzhuowei0407@baseline-login2 guzhuowei0407]$ cd kmELM/
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ cd case_gene/
[guzhuowei0407@baseline-login2 case_gene]$ ls
ORNL_baseline
[guzhuowei0407@baseline-login2 case_gene]$ cd ORNL_baseline/
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ vim uELM_caseGEN_TES_TVA.sh 
[guzhuowei0407@baseline-login2 ORNL_baseline]$ sh uELM_caseGEN_TES_TVA.sh 
E3SM_SRCROOT: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM
E3SM_DIN: //gpfs/wolf2/cades/cli185/world-shared/e3sm
Compset longname is 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV
Compset specification file is /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/config_compsets.xml
Automatically adding SIAC to compset
Automatically adding SESP to compset
Compset forcing is 
Com forcing is pre-industrial:
ATM component is  Data driven ATM  Daymet NA data set, sub-daily downscaled with ERA5 for TESSFA project 
LND component is ELM with :CN :C-N-P, nutrient competition via relative demand, ctc soil cascade with black carbon deposition :
ICE component is Stub ice component
OCN component is Stub ocn component
ROF component is MOSART:
GLC component is Stub glacier (land ice) component
WAV component is Stub wave component
IAC component is Stub iac component
ESP component is Stub external system processing (ESP) component
Pes     specification file is /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/config_pes.xml
Machine is cades-baseline
Pes setting: grid          is a%ELM_USRDAT_l%ELM_USRDAT_oi%null_r%null_g%null_w%null_z%null_m%reg 
Pes setting: compset       is 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP 
Pes setting: tasks       is {'NTASKS_ATM': -1, 'NTASKS_LND': -1, 'NTASKS_ROF': -1, 'NTASKS_ICE': -1, 'NTASKS_OCN': -1, 'NTASKS_GLC': -1, 'NTASKS_WAV': -1, 'NTASKS_CPL': -1} 
Pes setting: threads     is {} 
Pes setting: rootpe      is {} 
Pes setting: pstrid      is {} 
Pes other settings: {}
Pes other settings append: {}
Pes comments: elm: 1-node default for any grid,mach,compset
setting additional fields from config_pes: {}, append {}
 Compset is: 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP 
 Grid is: a%ELM_USRDAT_l%ELM_USRDAT_oi%null_r%null_g%null_w%null_z%null_m%reg 
 Components in compset are: ['datm', 'elm', 'sice', 'socn', 'mosart', 'sglc', 'swav', 'siac', 'sesp'] 
No project info available
No charge_account info available, using value from PROJECT
e3sm model version found: 913357a944
Batch_system_type is slurm
job is case.run USER_REQUESTED_WALLTIME None USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
job is case.st_archive USER_REQUESTED_WALLTIME None USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
 Creating Case directory /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
job is case.run USER_REQUESTED_WALLTIME 24:00:00 USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
Creating batch scripts
Writing case.run script from input template /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/template.case.run
Creating file .case.run
Writing case.st_archive script from input template /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/template.st_archive
Creating file case.st_archive
Creating file .case.run.sh
Creating user_nl_xxx files for components and cpl
If an old case build already exists, might want to run 'case.build --clean' before building
Generating component namelists as part of setup
  2025-01-05 23:40:43 atm 
Create namelist for component datm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/data_comps/datm/cime_config/buildnml
  2025-01-05 23:40:43 lnd 
Create namelist for component elm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/buildnml
  2025-01-05 23:40:44 ice 
Create namelist for component sice
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sice/cime_config/buildnml
  2025-01-05 23:40:44 ocn 
Create namelist for component socn
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/socn/cime_config/buildnml
  2025-01-05 23:40:44 rof 
Create namelist for component mosart
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/mosart//cime_config/buildnml
MOSART::buildnml compset  1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP
False
MOSART::buildnml final infile_text is: 
  2025-01-05 23:40:44 glc 
Create namelist for component sglc
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sglc/cime_config/buildnml
  2025-01-05 23:40:44 wav 
Create namelist for component swav
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/swav/cime_config/buildnml
  2025-01-05 23:40:44 iac 
Create namelist for component siac
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/siac/cime_config/buildnml
  2025-01-05 23:40:44 esp 
Create namelist for component sesp
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sesp/cime_config/buildnml
  2025-01-05 23:40:44 cpl 
Create namelist for component drv
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/driver-mct/cime_config/buildnml
You can now run './preview_run' to get more info on how your case will be run
Building case in directory /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
sharedlib_only is False
model_only is False
Generating component namelists as part of build
  2025-01-05 23:40:46 atm 
Create namelist for component datm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/data_comps/datm/cime_config/buildnml
  2025-01-05 23:40:46 lnd 
Create namelist for component elm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/buildnml
  2025-01-05 23:40:46 ice 
Create namelist for component sice
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sice/cime_config/buildnml
  2025-01-05 23:40:46 ocn 
Create namelist for component socn
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/socn/cime_config/buildnml
  2025-01-05 23:40:46 rof 
Create namelist for component mosart
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/mosart//cime_config/buildnml
MOSART::buildnml compset  1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP
False
MOSART::buildnml final infile_text is: 
  2025-01-05 23:40:46 glc 
Create namelist for component sglc
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sglc/cime_config/buildnml
  2025-01-05 23:40:46 wav 
Create namelist for component swav
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/swav/cime_config/buildnml
  2025-01-05 23:40:46 iac 
Create namelist for component siac
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/siac/cime_config/buildnml
  2025-01-05 23:40:46 esp 
Create namelist for component sesp
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sesp/cime_config/buildnml
  2025-01-05 23:40:46 cpl 
Create namelist for component drv
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/driver-mct/cime_config/buildnml
Building gptl with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/gptl.bldlog.250105-234046
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.gptl
Building mct with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/mct.bldlog.250105-234046
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.mct
Building spio with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/spio.bldlog.250105-234046
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.spio
Building csm_share with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/csm_share.bldlog.250105-234046
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.csm_share
Building e3sm model with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/e3sm.bldlog.250105-234046
   Calling make, see top of log file for specific call
ERROR: BUILD FAIL: build e3sm failed, cat /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/e3sm.bldlog.250105-234046
[guzhuowei0407@baseline-login2 ORNL_baseline]$ cat /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/e3sm.bldlog.250105-234046


Building with cmd:
/usr/bin/time -p gmake -j 64

/autofs/nccsopen-svm1_sw/baseline/spack-envs/base/opt/linux-rhel8-x86_64/gcc-8.5.0/cmake-3.26.3-ygpy7pnvo7bokl6voj5il437pp5crh67/bin/cmake -S/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components -B/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/cmake-bld --check-build-system CMakeFiles/Makefile.cmake 0
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
Found component atm model 'datm'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/datmconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/atm/CMakeLists.txt:1 (build_model)


Found component lnd model 'elm'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
Found component ice model 'sice'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/siceconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/ice/CMakeLists.txt:1 (build_model)


Found component ocn model 'socn'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/socnconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/ocn/CMakeLists.txt:1 (build_model)


Found component rof model 'mosart'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/mosartconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/rof/CMakeLists.txt:1 (build_model)


Found component glc model 'sglc'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/sglcconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/glc/CMakeLists.txt:1 (build_model)


Found component wav model 'swav'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/swavconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/wav/CMakeLists.txt:1 (build_model)


Found component iac model 'siac'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/siacconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/iac/CMakeLists.txt:1 (build_model)


Found component esp model 'sesp'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/sespconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/esp/CMakeLists.txt:1 (build_model)


No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/cplconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/cpl/CMakeLists.txt:1 (build_model)


-- Configuring incomplete, errors occurred!
gmake: *** [Makefile:295: cmake_check_build_system] Error 1
real 4.47
user 1.81
sys 1.72
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ vim uELM_caseGEN_TES_TVA.sh 
[guzhuowei0407@baseline-login2 ORNL_baseline]$ sh uELM_caseGEN_TES_TVA.sh 
E3SM_SRCROOT: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM
E3SM_DIN: //gpfs/wolf2/cades/cli185/world-shared/e3sm
Compset longname is 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV
Compset specification file is /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/config_compsets.xml
Automatically adding SIAC to compset
Automatically adding SESP to compset
Compset forcing is 
Com forcing is pre-industrial:
ATM component is  Data driven ATM  Daymet NA data set, sub-daily downscaled with ERA5 for TESSFA project 
LND component is ELM with :CN :C-N-P, nutrient competition via relative demand, ctc soil cascade with black carbon deposition :
ICE component is Stub ice component
OCN component is Stub ocn component
ROF component is MOSART:
GLC component is Stub glacier (land ice) component
WAV component is Stub wave component
IAC component is Stub iac component
ESP component is Stub external system processing (ESP) component
Pes     specification file is /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/config_pes.xml
Machine is cades-baseline
Pes setting: grid          is a%ELM_USRDAT_l%ELM_USRDAT_oi%null_r%null_g%null_w%null_z%null_m%reg 
Pes setting: compset       is 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP 
Pes setting: tasks       is {'NTASKS_ATM': -1, 'NTASKS_LND': -1, 'NTASKS_ROF': -1, 'NTASKS_ICE': -1, 'NTASKS_OCN': -1, 'NTASKS_GLC': -1, 'NTASKS_WAV': -1, 'NTASKS_CPL': -1} 
Pes setting: threads     is {} 
Pes setting: rootpe      is {} 
Pes setting: pstrid      is {} 
Pes other settings: {}
Pes other settings append: {}
Pes comments: elm: 1-node default for any grid,mach,compset
setting additional fields from config_pes: {}, append {}
 Compset is: 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP 
 Grid is: a%ELM_USRDAT_l%ELM_USRDAT_oi%null_r%null_g%null_w%null_z%null_m%reg 
 Components in compset are: ['datm', 'elm', 'sice', 'socn', 'mosart', 'sglc', 'swav', 'siac', 'sesp'] 
No project info available
No charge_account info available, using value from PROJECT
e3sm model version found: 913357a944
Batch_system_type is slurm
job is case.run USER_REQUESTED_WALLTIME None USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
job is case.st_archive USER_REQUESTED_WALLTIME None USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
 Creating Case directory /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
job is case.run USER_REQUESTED_WALLTIME 24:00:00 USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
Creating batch scripts
Writing case.run script from input template /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/template.case.run
Creating file .case.run
Writing case.st_archive script from input template /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/template.st_archive
Creating file case.st_archive
Creating file .case.run.sh
Creating user_nl_xxx files for components and cpl
If an old case build already exists, might want to run 'case.build --clean' before building
Generating component namelists as part of setup
  2025-01-05 23:43:13 atm 
Create namelist for component datm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/data_comps/datm/cime_config/buildnml
  2025-01-05 23:43:13 lnd 
Create namelist for component elm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/buildnml
  2025-01-05 23:43:13 ice 
Create namelist for component sice
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sice/cime_config/buildnml
  2025-01-05 23:43:13 ocn 
Create namelist for component socn
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/socn/cime_config/buildnml
  2025-01-05 23:43:13 rof 
Create namelist for component mosart
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/mosart//cime_config/buildnml
MOSART::buildnml compset  1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP
False
MOSART::buildnml final infile_text is: 
  2025-01-05 23:43:13 glc 
Create namelist for component sglc
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sglc/cime_config/buildnml
  2025-01-05 23:43:13 wav 
Create namelist for component swav
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/swav/cime_config/buildnml
  2025-01-05 23:43:13 iac 
Create namelist for component siac
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/siac/cime_config/buildnml
  2025-01-05 23:43:13 esp 
Create namelist for component sesp
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sesp/cime_config/buildnml
  2025-01-05 23:43:13 cpl 
Create namelist for component drv
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/driver-mct/cime_config/buildnml
You can now run './preview_run' to get more info on how your case will be run
Building case in directory /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
sharedlib_only is False
model_only is False
Generating component namelists as part of build
  2025-01-05 23:43:15 atm 
Create namelist for component datm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/data_comps/datm/cime_config/buildnml
  2025-01-05 23:43:15 lnd 
Create namelist for component elm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/buildnml
  2025-01-05 23:43:15 ice 
Create namelist for component sice
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sice/cime_config/buildnml
  2025-01-05 23:43:15 ocn 
Create namelist for component socn
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/socn/cime_config/buildnml
  2025-01-05 23:43:15 rof 
Create namelist for component mosart
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/mosart//cime_config/buildnml
MOSART::buildnml compset  1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP
False
MOSART::buildnml final infile_text is: 
  2025-01-05 23:43:15 glc 
Create namelist for component sglc
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sglc/cime_config/buildnml
  2025-01-05 23:43:15 wav 
Create namelist for component swav
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/swav/cime_config/buildnml
  2025-01-05 23:43:15 iac 
Create namelist for component siac
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/siac/cime_config/buildnml
  2025-01-05 23:43:15 esp 
Create namelist for component sesp
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sesp/cime_config/buildnml
  2025-01-05 23:43:15 cpl 
Create namelist for component drv
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/driver-mct/cime_config/buildnml
Building gptl with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/gptl.bldlog.250105-234315
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.gptl
Building mct with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/mct.bldlog.250105-234315
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.mct
Building spio with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/spio.bldlog.250105-234315
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.spio
Building csm_share with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/csm_share.bldlog.250105-234315
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.csm_share
Building e3sm model with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/e3sm.bldlog.250105-234315
   Calling make, see top of log file for specific call
ERROR: BUILD FAIL: build e3sm failed, cat /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/e3sm.bldlog.250105-234315
[guzhuowei0407@baseline-login2 ORNL_baseline]$ cat /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/e3sm.bldlog.250105-234315


Building with cmd:
/usr/bin/time -p gmake -j 64

/autofs/nccsopen-svm1_sw/baseline/spack-envs/base/opt/linux-rhel8-x86_64/gcc-8.5.0/cmake-3.26.3-ygpy7pnvo7bokl6voj5il437pp5crh67/bin/cmake -S/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components -B/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/cmake-bld --check-build-system CMakeFiles/Makefile.cmake 0
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
Found component atm model 'datm'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/datmconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/atm/CMakeLists.txt:1 (build_model)


Found component lnd model 'elm'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
Found component ice model 'sice'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/siceconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/ice/CMakeLists.txt:1 (build_model)


Found component ocn model 'socn'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/socnconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/ocn/CMakeLists.txt:1 (build_model)


Found component rof model 'mosart'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/mosartconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/rof/CMakeLists.txt:1 (build_model)


Found component glc model 'sglc'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/sglcconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/glc/CMakeLists.txt:1 (build_model)


Found component wav model 'swav'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/swavconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/wav/CMakeLists.txt:1 (build_model)


Found component iac model 'siac'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/siacconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/iac/CMakeLists.txt:1 (build_model)


Found component esp model 'sesp'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/sespconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/esp/CMakeLists.txt:1 (build_model)


No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/cplconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/cpl/CMakeLists.txt:1 (build_model)


-- Configuring incomplete, errors occurred!
gmake: *** [Makefile:295: cmake_check_build_system] Error 1
real 4.10
user 1.80
sys 1.73
[guzhuowei0407@baseline-login2 ORNL_baseline]$ :q
-bash: :q: command not found
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ vim uELM_caseGEN_TES_TVA.sh 
[guzhuowei0407@baseline-login2 ORNL_baseline]$ sh uELM_caseGEN_TES_TVA.sh
E3SM_SRCROOT: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM
E3SM_DIN: //gpfs/wolf2/cades/cli185/world-shared/e3sm
Compset longname is 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV
Compset specification file is /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/config_compsets.xml
Automatically adding SIAC to compset
Automatically adding SESP to compset
Compset forcing is 
Com forcing is pre-industrial:
ATM component is  Data driven ATM  Daymet NA data set, sub-daily downscaled with ERA5 for TESSFA project 
LND component is ELM with :CN :C-N-P, nutrient competition via relative demand, ctc soil cascade with black carbon deposition :
ICE component is Stub ice component
OCN component is Stub ocn component
ROF component is MOSART:
GLC component is Stub glacier (land ice) component
WAV component is Stub wave component
IAC component is Stub iac component
ESP component is Stub external system processing (ESP) component
Pes     specification file is /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/config_pes.xml
Machine is cades-baseline
Pes setting: grid          is a%ELM_USRDAT_l%ELM_USRDAT_oi%null_r%null_g%null_w%null_z%null_m%reg 
Pes setting: compset       is 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP 
Pes setting: tasks       is {'NTASKS_ATM': -1, 'NTASKS_LND': -1, 'NTASKS_ROF': -1, 'NTASKS_ICE': -1, 'NTASKS_OCN': -1, 'NTASKS_GLC': -1, 'NTASKS_WAV': -1, 'NTASKS_CPL': -1} 
Pes setting: threads     is {} 
Pes setting: rootpe      is {} 
Pes setting: pstrid      is {} 
Pes other settings: {}
Pes other settings append: {}
Pes comments: elm: 1-node default for any grid,mach,compset
setting additional fields from config_pes: {}, append {}
 Compset is: 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP 
 Grid is: a%ELM_USRDAT_l%ELM_USRDAT_oi%null_r%null_g%null_w%null_z%null_m%reg 
 Components in compset are: ['datm', 'elm', 'sice', 'socn', 'mosart', 'sglc', 'swav', 'siac', 'sesp'] 
No project info available
No charge_account info available, using value from PROJECT
e3sm model version found: 913357a944
Batch_system_type is slurm
job is case.run USER_REQUESTED_WALLTIME None USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
job is case.st_archive USER_REQUESTED_WALLTIME None USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
 Creating Case directory /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
job is case.run USER_REQUESTED_WALLTIME 24:00:00 USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
Creating batch scripts
Writing case.run script from input template /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/template.case.run
Creating file .case.run
Writing case.st_archive script from input template /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/template.st_archive
Creating file case.st_archive
Creating file .case.run.sh
Creating user_nl_xxx files for components and cpl
If an old case build already exists, might want to run 'case.build --clean' before building
Generating component namelists as part of setup
  2025-01-06 03:03:28 atm 
Create namelist for component datm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/data_comps/datm/cime_config/buildnml
  2025-01-06 03:03:28 lnd 
Create namelist for component elm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/buildnml
  2025-01-06 03:03:29 ice 
Create namelist for component sice
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sice/cime_config/buildnml
  2025-01-06 03:03:29 ocn 
Create namelist for component socn
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/socn/cime_config/buildnml
  2025-01-06 03:03:29 rof 
Create namelist for component mosart
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/mosart//cime_config/buildnml
MOSART::buildnml compset  1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP
False
MOSART::buildnml final infile_text is: 
  2025-01-06 03:03:29 glc 
Create namelist for component sglc
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sglc/cime_config/buildnml
  2025-01-06 03:03:29 wav 
Create namelist for component swav
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/swav/cime_config/buildnml
  2025-01-06 03:03:29 iac 
Create namelist for component siac
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/siac/cime_config/buildnml
  2025-01-06 03:03:29 esp 
Create namelist for component sesp
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sesp/cime_config/buildnml
  2025-01-06 03:03:29 cpl 
Create namelist for component drv
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/driver-mct/cime_config/buildnml
You can now run './preview_run' to get more info on how your case will be run
Building case in directory /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
sharedlib_only is False
model_only is False
Generating component namelists as part of build
  2025-01-06 03:03:30 atm 
Create namelist for component datm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/data_comps/datm/cime_config/buildnml
  2025-01-06 03:03:30 lnd 
Create namelist for component elm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/buildnml
  2025-01-06 03:03:30 ice 
Create namelist for component sice
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sice/cime_config/buildnml
  2025-01-06 03:03:30 ocn 
Create namelist for component socn
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/socn/cime_config/buildnml
  2025-01-06 03:03:30 rof 
Create namelist for component mosart
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/mosart//cime_config/buildnml
MOSART::buildnml compset  1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP
False
MOSART::buildnml final infile_text is: 
  2025-01-06 03:03:30 glc 
Create namelist for component sglc
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sglc/cime_config/buildnml
  2025-01-06 03:03:30 wav 
Create namelist for component swav
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/swav/cime_config/buildnml
  2025-01-06 03:03:30 iac 
Create namelist for component siac
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/siac/cime_config/buildnml
  2025-01-06 03:03:30 esp 
Create namelist for component sesp
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sesp/cime_config/buildnml
  2025-01-06 03:03:30 cpl 
Create namelist for component drv
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/driver-mct/cime_config/buildnml
Building gptl with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/gptl.bldlog.250106-030330
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.gptl
Building mct with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/mct.bldlog.250106-030330
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.mct
Building spio with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/spio.bldlog.250106-030330
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.spio
Building csm_share with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/csm_share.bldlog.250106-030330
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.csm_share
Building e3sm model with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/e3sm.bldlog.250106-030330
   Calling make, see top of log file for specific call
ERROR: BUILD FAIL: build e3sm failed, cat /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/e3sm.bldlog.250106-030330
[guzhuowei0407@baseline-login2 ORNL_baseline]$ cat /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/e3sm.bldlog.250106-030330


Building with cmd:
/usr/bin/time -p gmake -j 64

/autofs/nccsopen-svm1_sw/baseline/spack-envs/base/opt/linux-rhel8-x86_64/gcc-8.5.0/cmake-3.26.3-ygpy7pnvo7bokl6voj5il437pp5crh67/bin/cmake -S/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components -B/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/cmake-bld --check-build-system CMakeFiles/Makefile.cmake 0
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
Found component atm model 'datm'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/datmconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/atm/CMakeLists.txt:1 (build_model)


Found component lnd model 'elm'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
Found component ice model 'sice'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/siceconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/ice/CMakeLists.txt:1 (build_model)


Found component ocn model 'socn'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/socnconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/ocn/CMakeLists.txt:1 (build_model)


Found component rof model 'mosart'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/mosartconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/rof/CMakeLists.txt:1 (build_model)


Found component glc model 'sglc'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/sglcconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/glc/CMakeLists.txt:1 (build_model)


Found component wav model 'swav'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/swavconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/wav/CMakeLists.txt:1 (build_model)


Found component iac model 'siac'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/siacconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/iac/CMakeLists.txt:1 (build_model)


Found component esp model 'sesp'
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/sespconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/esp/CMakeLists.txt:1 (build_model)


No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/cades-baseline.cmake
No macro file found: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/cmake_macros/gnu_cades-baseline.cmake
CMake Error at cmake/build_model.cmake:17 (file):
  file STRINGS file
  "/gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/Buildconf/cplconf/Filepath"
  cannot be read.
Call Stack (most recent call first):
  cmake/cpl/CMakeLists.txt:1 (build_model)


-- Configuring incomplete, errors occurred!
gmake: *** [Makefile:295: cmake_check_build_system] Error 1
real 4.33
user 1.83
sys 1.69
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ vim uELM_caseGEN_TES_TVA.sh 
[guzhuowei0407@baseline-login2 ORNL_baseline]$ sh uELM_caseGEN_TES_TVA.sh 
E3SM_SRCROOT: /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM
E3SM_DIN: //gpfs/wolf2/cades/cli185/world-shared/e3sm
Compset longname is 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV
Compset specification file is /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/config_compsets.xml
Automatically adding SIAC to compset
Automatically adding SESP to compset
Compset forcing is 
Com forcing is pre-industrial:
ATM component is  Data driven ATM  Daymet NA data set, sub-daily downscaled with ERA5 for TESSFA project 
LND component is ELM with :CN :C-N-P, nutrient competition via relative demand, ctc soil cascade with black carbon deposition :
ICE component is Stub ice component
OCN component is Stub ocn component
ROF component is MOSART:
GLC component is Stub glacier (land ice) component
WAV component is Stub wave component
IAC component is Stub iac component
ESP component is Stub external system processing (ESP) component
Pes     specification file is /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/config_pes.xml
Machine is cades-baseline
Pes setting: grid          is a%ELM_USRDAT_l%ELM_USRDAT_oi%null_r%null_g%null_w%null_z%null_m%reg 
Pes setting: compset       is 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP 
Pes setting: tasks       is {'NTASKS_ATM': -1, 'NTASKS_LND': -1, 'NTASKS_ROF': -1, 'NTASKS_ICE': -1, 'NTASKS_OCN': -1, 'NTASKS_GLC': -1, 'NTASKS_WAV': -1, 'NTASKS_CPL': -1} 
Pes setting: threads     is {} 
Pes setting: rootpe      is {} 
Pes setting: pstrid      is {} 
Pes other settings: {}
Pes other settings append: {}
Pes comments: elm: 1-node default for any grid,mach,compset
setting additional fields from config_pes: {}, append {}
 Compset is: 1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP 
 Grid is: a%ELM_USRDAT_l%ELM_USRDAT_oi%null_r%null_g%null_w%null_z%null_m%reg 
 Components in compset are: ['datm', 'elm', 'sice', 'socn', 'mosart', 'sglc', 'swav', 'siac', 'sesp'] 
No project info available
No charge_account info available, using value from PROJECT
e3sm model version found: 913357a944
Batch_system_type is slurm
job is case.run USER_REQUESTED_WALLTIME None USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
job is case.st_archive USER_REQUESTED_WALLTIME None USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
Deprecated "arg" node detected in /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/env_batch.xml, check files /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/config_batch.xml
 Creating Case directory /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
job is case.run USER_REQUESTED_WALLTIME 24:00:00 USER_REQUESTED_QUEUE None WALLTIME_FORMAT %H:%M:%S
Creating batch scripts
Writing case.run script from input template /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/template.case.run
Creating file .case.run
Writing case.st_archive script from input template /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/cime_config/machines/template.st_archive
Creating file case.st_archive
Creating file .case.run.sh
Creating user_nl_xxx files for components and cpl
If an old case build already exists, might want to run 'case.build --clean' before building
Generating component namelists as part of setup
  2025-01-06 03:06:31 atm 
Create namelist for component datm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/data_comps/datm/cime_config/buildnml
  2025-01-06 03:06:31 lnd 
Create namelist for component elm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/buildnml
  2025-01-06 03:06:31 ice 
Create namelist for component sice
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sice/cime_config/buildnml
  2025-01-06 03:06:31 ocn 
Create namelist for component socn
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/socn/cime_config/buildnml
  2025-01-06 03:06:31 rof 
Create namelist for component mosart
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/mosart//cime_config/buildnml
MOSART::buildnml compset  1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP
False
MOSART::buildnml final infile_text is: 
  2025-01-06 03:06:31 glc 
Create namelist for component sglc
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sglc/cime_config/buildnml
  2025-01-06 03:06:31 wav 
Create namelist for component swav
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/swav/cime_config/buildnml
  2025-01-06 03:06:31 iac 
Create namelist for component siac
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/siac/cime_config/buildnml
  2025-01-06 03:06:31 esp 
Create namelist for component sesp
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sesp/cime_config/buildnml
  2025-01-06 03:06:31 cpl 
Create namelist for component drv
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/driver-mct/cime_config/buildnml
You can now run './preview_run' to get more info on how your case will be run
Building case in directory /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_cases/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA
sharedlib_only is False
model_only is False
Generating component namelists as part of build
  2025-01-06 03:06:33 atm 
Create namelist for component datm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/data_comps/datm/cime_config/buildnml
  2025-01-06 03:06:33 lnd 
Create namelist for component elm
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/elm/cime_config/buildnml
  2025-01-06 03:06:33 ice 
Create namelist for component sice
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sice/cime_config/buildnml
  2025-01-06 03:06:33 ocn 
Create namelist for component socn
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/socn/cime_config/buildnml
  2025-01-06 03:06:33 rof 
Create namelist for component mosart
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/mosart//cime_config/buildnml
MOSART::buildnml compset  1850_DATM%uELMTES_ELM%CNPRDCTCBC_SICE_SOCN_MOSART_SGLC_SWAV_SIAC_SESP
False
MOSART::buildnml final infile_text is: 
  2025-01-06 03:06:33 glc 
Create namelist for component sglc
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sglc/cime_config/buildnml
  2025-01-06 03:06:33 wav 
Create namelist for component swav
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/swav/cime_config/buildnml
  2025-01-06 03:06:33 iac 
Create namelist for component siac
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/siac/cime_config/buildnml
  2025-01-06 03:06:33 esp 
Create namelist for component sesp
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/components/stub_comps/sesp/cime_config/buildnml
  2025-01-06 03:06:33 cpl 
Create namelist for component drv
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/driver-mct/cime_config/buildnml
Building gptl with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/gptl.bldlog.250106-030632
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.gptl
Building mct with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/mct.bldlog.250106-030632
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.mct
Building spio with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/spio.bldlog.250106-030632
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.spio
Building csm_share with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/csm_share.bldlog.250106-030632
   Calling /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/share/build/buildlib.csm_share
Building e3sm model with output to file /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/e3sm.bldlog.250106-030632
   Calling make, see top of log file for specific call
ERROR: BUILD FAIL: build e3sm failed, cat /gpfs/wolf2/cades/cli185/scratch/guzhuowei0407/kmELM/e3sm_runs/uELM_TVA_I1850uELMCNPRDCTCBC_TES_TVA/bld/e3sm.bldlog.250106-030632
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ vim uELM_caseGEN_TES_TVA.sh 
[guzhuowei0407@baseline-login2 ORNL_baseline]$ squeue -u guzhuowei0407
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
             81347     batch run.uELM guzhuowe  R    5:37:54      5 baseline[73-77]
[guzhuowei0407@baseline-login2 ORNL_baseline]$ ls
README.md  uELM_caseGEN_AKSP.sh  uELM_caseGEN_AKSP_user_defined_mask.sh  uELM_caseGEN_TES_TVA.sh  uELM_caseGEN_TN.sh
[guzhuowei0407@baseline-login2 ORNL_baseline]$ cd ..
[guzhuowei0407@baseline-login2 case_gene]$ ls
ORNL_baseline
[guzhuowei0407@baseline-login2 case_gene]$ cd ..
[guzhuowei0407@baseline-login2 kmELM]$ ls
AUTHORS    cime_config    components       driver-mct   e3sm_runs  mkdocs.yaml           share
case_gene  CITATION.cff   CONTRIBUTING.md  driver-moab  externals  README.md             tools
cime       codemeta.json  docs             e3sm_cases   LICENSE    run_e3sm.template.sh
[guzhuowei0407@baseline-login2 kmELM]$ cd ..
[guzhuowei0407@baseline-login2 guzhuowei0407]$ ls
Fortran-Pytorch  kmELM  NA_cases_data  software  uELM  uELM_orig  uELM_result
[guzhuowei0407@baseline-login2 guzhuowei0407]$ cd Fortran-Pytorch/
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch         offline_training     save_variables.py   training_data_landfrac_1.pkl  variables_and_shapes.txt
LSTM_model.pt  offline_training.py  test_LSTM_model.py  training_data_landfrac_1.txt
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ cd offline_training/
[guzhuowei0407@baseline-login2 offline_training]$ ls
bin  include  lib  lib64  pyvenv.cfg  share
[guzhuowei0407@baseline-login2 offline_training]$ cd ..
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch         offline_training     save_variables.py   training_data_landfrac_1.pkl  variables_and_shapes.txt
LSTM_model.pt  offline_training.py  test_LSTM_model.py  training_data_landfrac_1.txt
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim training_data_landfrac_1.txt 
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim variables_and_shapes.txt 
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ ls
FTorch         offline_training     save_variables.py   training_data_landfrac_1.pkl  variables_and_shapes.txt
LSTM_model.pt  offline_training.py  test_LSTM_model.py  training_data_landfrac_1.txt
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim offline_training.f90
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim offline_training.f90 
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim variables_and_shapes.txt 
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim offline_training.f90 
[guzhuowei0407@baseline-login2 Fortran-Pytorch]$ vim offline_training.f90 

program offline_training_inference

   use, intrinsic :: iso_fortran_env, only : wp => real32

   ! Import Ftorch library
   use ftorch, only : torch_model, torch_tensor, torch_tensor_from_array, &
                      torch_tensor_to_array, torch_model_load, torch_model_forward, &
                      torch_delete, torch_kCPU

   implicit none

   call main()

contains

   subroutine main()

      integer :: i, num_vars, num_samples, num_outputs

      ! Set up types of input and output data
      type(torch_model) :: model
      type(torch_tensor), dimension(1) :: in_tensors
      type(torch_tensor), dimension(1) :: out_tensors

      ! Define constants
      integer, parameter :: num_vars = 72        ! Number of input variables
      integer, parameter :: num_samples = 3168  ! Number of input samples
      integer, parameter :: num_outputs = 7     ! Number of output variables
      integer, parameter :: output_samples = 634 ! Number of output samples

      ! Declare arrays for all 72 variables
      real(wp), dimension(num_samples) :: landfrac, Latitude, Longitude, FLDS, PSRF, FSDS, QBOT, PRECTmms, TBOT, LANDFRAC_PFT
      real(wp), dimension(num_samples) :: PCT_NATVEG, AREA, peatf, abm, SOIL_COLOR, SOIL_ORDER, SOIL3C, SOIL4C
      real(wp), dimension(num_samples) :: DEADSTEMC, DEADCROOTC, CWDC, TLAI, GPP
      real(wp), dimension(num_samples) :: PCT_NAT_PFT_0, PCT_NAT_PFT_1, PCT_NAT_PFT_2, PCT_NAT_PFT_3, PCT_NAT_PFT_4, PCT_NAT_PFT_5
      real(wp), dimension(num_samples) :: PCT_NAT_PFT_6, PCT_NAT_PFT_7, PCT_NAT_PFT_8, PCT_NAT_PFT_9, PCT_NAT_PFT_10
      real(wp), dimension(num_samples) :: PCT_NAT_PFT_11, PCT_NAT_PFT_12, PCT_NAT_PFT_13, PCT_NAT_PFT_14, PCT_NAT_PFT_15, PCT_NAT_PFT_16
      real(wp), dimension(num_samples) :: PCT_SAND_0, PCT_SAND_1, PCT_SAND_2, PCT_SAND_3, PCT_SAND_4, PCT_SAND_5
      real(wp), dimension(num_samples) :: PCT_SAND_6, PCT_SAND_7, PCT_SAND_8, PCT_SAND_9
      real(wp), dimension(num_samples) :: SCALARAVG_vr_0, SCALARAVG_vr_1, SCALARAVG_vr_2, SCALARAVG_vr_3, SCALARAVG_vr_4
      real(wp), dimension(num_samples) :: SCALARAVG_vr_5, SCALARAVG_vr_6, SCALARAVG_vr_7, SCALARAVG_vr_8, SCALARAVG_vr_9
      real(wp), dimension(num_samples) :: SCALARAVG_vr_10, SCALARAVG_vr_11, SCALARAVG_vr_12, SCALARAVG_vr_13, SCALARAVG_vr_14
      real(wp), dimension(num_samples) :: Y_SOIL3C, Y_SOIL4C, Y_DEADSTEMC, Y_DEADCROOTC, Y_CWDC, Y_TLAI, Y_GPP

      ! Final input matrix
      real(wp), dimension(num_vars, num_samples), target :: in_data

      ! Output matrix
      real(wp), dimension(num_outputs, output_samples) :: out_data

      ! Layout definitions for tensors
      integer, parameter :: in_layout(2) = [1, 2]
      integer, parameter :: out_layout(2) = [1, 2]

      ! Initialize each variable
      do i = 1, num_samples
         landfrac(i) = real(i, wp) * 0.1_wp
         Latitude(i) = real(i, wp) * 0.2_wp
         Longitude(i) = real(i, wp) * 0.3_wp
         FLDS(i) = real(i, wp) * 0.4_wp
         PSRF(i) = real(i, wp) * 0.5_wp
         FSDS(i) = real(i, wp) * 0.6_wp
         QBOT(i) = real(i, wp) * 0.7_wp
         PRECTmms(i) = real(i, wp) * 0.8_wp
         TBOT(i) = real(i, wp) * 0.9_wp
         LANDFRAC_PFT(i) = real(i, wp) * 1.0_wp
         PCT_NATVEG(i) = real(i, wp) * 1.1_wp
         AREA(i) = real(i, wp) * 1.2_wp
         peatf(i) = real(i, wp) * 1.3_wp
         abm(i) = real(i, wp) * 1.4_wp
         SOIL_COLOR(i) = real(i, wp) * 1.5_wp
         SOIL_ORDER(i) = real(i, wp) * 1.6_wp
         SOIL3C(i) = real(i, wp) * 1.7_wp
         SOIL4C(i) = real(i, wp) * 1.8_wp
                                                                                                                                           1,1           Top
